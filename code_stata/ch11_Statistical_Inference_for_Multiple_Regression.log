
. * ch11_Statistical_Inference_for_Multiple_Regression.do - January 2026 For St
> ata
. * Updated for online execution portability
. 
. ********** OVERVIEW OF ch11_Statistical_Inference_for_Multiple_Regression.do 
> **********
. 
. * STATA Program
. * copyright C 2021 by A. Colin Cameron
. * Used for "Analyis of Economics Data: An Introduction to Econometrics"
. * by A. Colin Cameron (2021)
. 
. * To run you need file
. *   AED_HOUSE.DTA
. * in your directory
. 
. ********** SETUP **********
. 
. * Set random seed for reproducibility
. set seed 42

. 
. * Clear all macros
. macro drop _all

. 
. * GitHub data URL
. global github_data_url "https://raw.githubusercontent.com/quarcs-lab/data-ope
> n/master/AED/"

. 
. * Create output directories (optional - for saving figures and tables locally
> )
. cap mkdir "images"

. cap mkdir "tables"

. 
. set more off

. clear all

. 
. ************
. 
. * This STATA does analysis for Chapter 11
. *  11.1 PROPERTIES OF THE LEAST SQUARES ESTIMATOR
. *  11.2 ESTIMATORS OF MODEL PARAMETERS
. *  11.3 CONFIDENCE INTERVALS
. *  11.4 HYPOTHESIS TESTS ON A SINGLE PARAMETER
. *  11.5 JOINT HYPOTHESIS TESTS
. *  11.6 F STATISTIC UNDER ASSUMPTIONS 1-4
. *  11.7 PRESENTATION OF REGRESSION RESULTS
. 
. ********** DATA DESCRIPTION
. 
. * House sale price for 29 houses in Central Davis in 1999
. *     29 observations on 9 variables 
. 
. ****  11.1 - 11.4 EXAMPLE: HOUSE PRICE AND CHARACTERISTICS
. 
. * Download and load data from GitHub
. copy "${github_data_url}AED_HOUSE.DTA" "temp_data.dta", replace
(file temp_data.dta not found)

. use "temp_data.dta", clear
(Data for A. Colin Cameron (2020): Analysis of Economics Data)

. erase "temp_data.dta"

. describe

Contains data from temp_data.dta
 Observations:            29                  Data for A. Colin Cameron
                                                (2020): Analysis of Economics
                                                Data
    Variables:             8                  14 Jul 2020 18:06
-------------------------------------------------------------------------------
Variable      Storage   Display    Value
    name         type    format    label      Variable label
-------------------------------------------------------------------------------
price           long    %12.0g                House sale price in dollars
size            int     %8.0g                 House size in square feet
bedrooms        byte    %8.0g                 Number of bedrooms
bathrooms       float   %9.0g                 Number of Bathrooms
lotsize         byte    %8.0g                 Size of lot: 1 > 2 > 3
age             float   %9.0g                 House Age in Years
monthsold       byte    %8.0g                 Month of year house was sold
list            long    %12.0g                House list price in dollars
-------------------------------------------------------------------------------
Sorted by: price

. summarize price size bedrooms bathroom lotsize age monthsold

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
       price |         29    253910.3    37390.71     204000     375000
        size |         29    1882.759    398.2721       1400       3300
    bedrooms |         29    3.793103    .6750296          3          6
   bathrooms |         29    2.206897    .3411441          2          3
     lotsize |         29    2.137931    .6930336          1          3
-------------+---------------------------------------------------------
         age |         29    36.41379    7.118975         23         51
   monthsold |         29    5.965517    1.679344          3          8

. 
. * Table 11.1 - not produced by statistical package
. 
. * Table 11.2
. * Multiple regression
. regress price size bedrooms bathroom lotsize age monthsold

      Source |       SS           df       MS      Number of obs   =        29
-------------+----------------------------------   F(6, 22)        =      6.83
       Model |  2.5466e+10         6  4.2444e+09   Prob > F        =    0.0003
    Residual |  1.3679e+10        22   621790812   R-squared       =    0.6506
-------------+----------------------------------   Adj R-squared   =    0.5552
       Total |  3.9146e+10        28  1.3981e+09   Root MSE        =     24936

------------------------------------------------------------------------------
       price | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        size |   68.36942   15.38947     4.44   0.000     36.45361    100.2852
    bedrooms |   2685.315   9192.526     0.29   0.773    -16378.82    21749.45
   bathrooms |    6832.88   15721.19     0.43   0.668    -25770.88    39436.64
     lotsize |   2303.221   7226.535     0.32   0.753     -12683.7    17290.14
         age |  -833.0386   719.3345    -1.16   0.259    -2324.847    658.7699
   monthsold |  -2088.504   3520.898    -0.59   0.559    -9390.399    5213.392
       _cons |   137791.1   61464.95     2.24   0.035     10320.56    265261.6
------------------------------------------------------------------------------

. 
. * Test that beta_size = 50
. test size = 50

 ( 1)  size = 50

       F(  1,    22) =    1.42
            Prob > F =    0.2453

. display "tstatistic = " sqrt(r(F))
tstatistic = 1.1936354

. 
. * Test manually
. scalar tstatistic = (_b[size] - 50)/_se[size]

. display "tstatistic = " tstatistic " and p-value = " 2*ttail(e(df_r),tstatist
> ic)
tstatistic = 1.1936354 and p-value = .2453336

. 
. ****  11.5 JOINT HYPOTHESIS TESTS
. 
. * Generate F data
. clear

. global nobs = 1000

. set obs $nobs
Number of observations (_N) was 0, now 1,000.

. generate x = 8*_n/$nobs

. generate F3_30 = Fden(3,30,x)

. generate F10_30 = Fden(10,30,x)

. 
. * Figure 11.1
. graph twoway (line F3_30 x) (line F10_30 x, lpattern(dash))

. graph export "images/ch11_fig1.png", replace
(file images/ch11_fig1.png not found)
file images/ch11_fig1.png written in PNG format

. 
. * Table 11.3
. display "Row 1: " invFtail(1,30,.10)  "  " invFtail(2,30,.10)  "  "        //
> /
>     invFtail(3,30,.10) "  " invFtail(10,30,.10)  "  "  invFtail(20,30,.10)
Row 1: 2.8806945  2.488716  2.2760714  1.8194854  1.6673089

. display "Row 2: " invFtail(1,10000,.10)  "  " invFtail(2,10000,.10)  "  "  //
> /
>     invFtail(3,10000,.10) " " invFtail(10,10000,.10)  "  "  invFtail(20,10000
> ,.10)
Row 2: 2.7060448  2.3031154  2.0843434 1.5993564  1.4213386

. display "Row 3: " invFtail(1,30,.05)  "  " invFtail(2,30,.05)  "  "        //
> /
>     invFtail(3,30,.05)  " invFtail(10,30,.05)  "  "  invFtail(20,30,.05)
Row 3: 4.1708768  3.3158295  2.9222772 invFtail(10,30,.05)    invFtail(20,30,.0
> 5)

. display "Row 4: " invFtail(1,10000,.05)  "  " invFtail(2,10000,.05)  "  "  //
> /
>     invFtail(3,10000,.05) " " invFtail(10,10000,.05)  "  "  invFtail(20,10000
> ,.05)
Row 4: 3.8423889  2.9966299  2.6057971 1.8316474  1.5715748

. display "Row 5: " invFtail(1,30,.01)  "  " invFtail(2,30,.01)  "  "        //
> /
>     invFtail(3,30,.01)  " invFtail(10,30,.01)  "  "  invFtail(20,30,.01)
Row 5: 7.5624761  5.3903459  4.5097396 invFtail(10,30,.01)    invFtail(20,30,.0
> 1)

. display "Row 6: " invFtail(1,10000,.01)  "  " invFtail(2,10000,.01)  "  "  //
> /
>     invFtail(3,10000,.01) " " invFtail(10,10000,.01)  "  "  invFtail(20,10000
> ,.01)
Row 6: 6.6374301  4.6072916  3.7835789 2.3226907  1.8801497

. 
. clear

. use AED_HOUSE.DTA
file AED_HOUSE.DTA not found
r(601);

end of do-file
r(601);
