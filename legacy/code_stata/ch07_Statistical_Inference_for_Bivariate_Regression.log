
. * ch07_Statistical_Inference_for_Bivariate_Regression.do - January 2026 For S
> tata
. * Updated for online execution portability
. 
. ********** OVERVIEW OF ch07_Statistical_Inference_for_Bivariate_Regression.do
>  **********
. 
. * STATA Program
. * copyright C 2021 by A. Colin Cameron
. * Used for "Analyis of Economics Data: An Introduction to Econometrics"
. * by A. Colin Cameron (2021)
. 
. * To run you need file
. *   AED_HOUSE.DTA
. *   AED_REALGDPPC
. * in your directory
. 
. ********** SETUP **********
. 
. * Set random seed for reproducibility
. set seed 42

. 
. * Clear all macros
. macro drop _all

. 
. * GitHub data URL
. global github_data_url "https://raw.githubusercontent.com/quarcs-lab/data-ope
> n/master/AED/"

. 
. * Create output directories (optional - for saving figures and tables locally
> )
. cap mkdir "images"

. cap mkdir "tables"

. 
. set more off

. clear all

. 
. ************
. 
. * This STATA does analysis for Chapter 7
. *   7.1 EXAMPLE: HOUSE PRICE AND SIZE
. *   7.2 THE T STATISTIC
. *   7.3 CONFIDENCE INTERVALS
. *   7.4 TESTS OF STATISTICAL SIGNIFICANCE
. *   7.5 TWO-SIDED HYPOTHESIS TESTS
. *   7.6 ONE-SIDED DIRECTIONAL HYPOTHESIS TESTS
. *   7.7 ROBUST STANDARD ERRORS
. 
. ********** DATA DESCRIPTION
. 
. * House sale price for 29 houses in Central Davis in 1999
. *     29 observations on 9 variables 
. 
. **** 7.1 EXAMPLE: HOUSE PRICE AND SIZE
. 
. * Download and load data from GitHub
. clear

. copy "${github_data_url}AED_HOUSE.DTA" "temp_data.dta", replace
(file temp_data.dta not found)

. use "temp_data.dta", clear
(Data for A. Colin Cameron (2020): Analysis of Economics Data)

. erase "temp_data.dta"

. summarize

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
       price |         29    253910.3    37390.71     204000     375000
        size |         29    1882.759    398.2721       1400       3300
    bedrooms |         29    3.793103    .6750296          3          6
   bathrooms |         29    2.206897    .3411441          2          3
     lotsize |         29    2.137931    .6930336          1          3
-------------+---------------------------------------------------------
         age |         29    36.41379    7.118975         23         51
   monthsold |         29    5.965517    1.679344          3          8
        list |         29    257824.1    40860.26     199900     386000

. 
. * Table 7.1
. regress price size

      Source |       SS           df       MS      Number of obs   =        29
-------------+----------------------------------   F(1, 27)        =     43.58
       Model |  2.4171e+10         1  2.4171e+10   Prob > F        =    0.0000
    Residual |  1.4975e+10        27   554633395   R-squared       =    0.6175
-------------+----------------------------------   Adj R-squared   =    0.6033
       Total |  3.9146e+10        28  1.3981e+09   Root MSE        =     23551

------------------------------------------------------------------------------
       price | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        size |   73.77104   11.17491     6.60   0.000     50.84202    96.70006
       _cons |   115017.3   21489.36     5.35   0.000     70924.76    159109.8
------------------------------------------------------------------------------

. 
. **** 7.3 CONFIDENCE INTERVALS
. 
. * Example with artifical data
. clear

. input x y 

             x          y
  1.  1 1
  2.  2 2
  3.  3 2
  4.  4 2
  5.  5 3
  6. end

. regress y x

      Source |       SS           df       MS      Number of obs   =         5
-------------+----------------------------------   F(1, 3)         =     12.00
       Model |         1.6         1         1.6   Prob > F        =    0.0405
    Residual |          .4         3  .133333333   R-squared       =    0.8000
-------------+----------------------------------   Adj R-squared   =    0.7333
       Total |           2         4          .5   Root MSE        =    .36515

------------------------------------------------------------------------------
           y | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
           x |         .4   .1154701     3.46   0.041     .0325228    .7674772
       _cons |         .8   .3829708     2.09   0.128    -.4187841    2.018784
------------------------------------------------------------------------------

. 
. ***** 7.4 TESTS OF STATISTICAL SIGNIFICNACE
. 
. * Download and load data from GitHub
. clear

. copy "${github_data_url}AED_HOUSE.DTA" "temp_data.dta", replace
(file temp_data.dta not found)

. use "temp_data.dta", clear
(Data for A. Colin Cameron (2020): Analysis of Economics Data)

. erase "temp_data.dta"

. regress price size

      Source |       SS           df       MS      Number of obs   =        29
-------------+----------------------------------   F(1, 27)        =     43.58
       Model |  2.4171e+10         1  2.4171e+10   Prob > F        =    0.0000
    Residual |  1.4975e+10        27   554633395   R-squared       =    0.6175
-------------+----------------------------------   Adj R-squared   =    0.6033
       Total |  3.9146e+10        28  1.3981e+09   Root MSE        =     23551

------------------------------------------------------------------------------
       price | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        size |   73.77104   11.17491     6.60   0.000     50.84202    96.70006
       _cons |   115017.3   21489.36     5.35   0.000     70924.76    159109.8
------------------------------------------------------------------------------

. 
. **** 7.5 TWO-SIDED HYPOTHESIS TESTS
. 
. regress price size

      Source |       SS           df       MS      Number of obs   =        29
-------------+----------------------------------   F(1, 27)        =     43.58
       Model |  2.4171e+10         1  2.4171e+10   Prob > F        =    0.0000
    Residual |  1.4975e+10        27   554633395   R-squared       =    0.6175
-------------+----------------------------------   Adj R-squared   =    0.6033
       Total |  3.9146e+10        28  1.3981e+09   Root MSE        =     23551

------------------------------------------------------------------------------
       price | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        size |   73.77104   11.17491     6.60   0.000     50.84202    96.70006
       _cons |   115017.3   21489.36     5.35   0.000     70924.76    159109.8
------------------------------------------------------------------------------

. test size = 90

 ( 1)  size = 90

       F(  1,    27) =    2.11
            Prob > F =    0.1580

. 
. * Compute manually
. scalar t = (_b[size] - 90)/_se[size]

. scalar pvalue = 2*ttail(27,abs(t))

. scalar critvalue = invttail(27,.025)

. display "t = " t "  p = " pvalue "  critical value = " critvalue
t = -1.4522675  p = .15795009  critical value = 2.0518305

. 
. * Figure 7.1 - generated elsewhere is similar to Figure 4.3 
. 
. **** 7.6 ONE-SIDED HYPOTHESIS TESTS
. 
. * Download and load data from GitHub
. clear

. copy "${github_data_url}AED_HOUSE.DTA" "temp_data.dta", replace
(file temp_data.dta not found)

. use "temp_data.dta", clear
(Data for A. Colin Cameron (2020): Analysis of Economics Data)

. erase "temp_data.dta"

. regress price size

      Source |       SS           df       MS      Number of obs   =        29
-------------+----------------------------------   F(1, 27)        =     43.58
       Model |  2.4171e+10         1  2.4171e+10   Prob > F        =    0.0000
    Residual |  1.4975e+10        27   554633395   R-squared       =    0.6175
-------------+----------------------------------   Adj R-squared   =    0.6033
       Total |  3.9146e+10        28  1.3981e+09   Root MSE        =     23551

------------------------------------------------------------------------------
       price | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        size |   73.77104   11.17491     6.60   0.000     50.84202    96.70006
       _cons |   115017.3   21489.36     5.35   0.000     70924.76    159109.8
------------------------------------------------------------------------------

. ttest size = 90

One-sample t test
------------------------------------------------------------------------------
Variable |     Obs        Mean    Std. err.   Std. dev.   [95% conf. interval]
---------+--------------------------------------------------------------------
    size |      29    1882.759    73.95728    398.2721    1731.264    2034.253
------------------------------------------------------------------------------
    mean = mean(size)                                             t =  24.2405
H0: mean = 90                                    Degrees of freedom =       28

    Ha: mean < 90               Ha: mean != 90                 Ha: mean > 90
 Pr(T < t) = 1.0000         Pr(|T| > |t|) = 0.0000          Pr(T > t) = 0.0000

. * Halve the two-sided p-value provided
. * t>0 for an upper one-tailed alternative
. * t<0 for a lower one-tailed alternative
. 
. ****  7.7 ROBUST STANDARD ERRORS
. 
. * Heteroskedastic robust
. regress price size, vce(robust)

Linear regression                               Number of obs     =         29
                                                F(1, 27)          =      42.40
                                                Prob > F          =     0.0000
                                                R-squared         =     0.6175
                                                Root MSE          =      23551

------------------------------------------------------------------------------
             |               Robust
       price | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        size |   73.77104   11.32967     6.51   0.000     50.52448     97.0176
       _cons |   115017.3    20298.7     5.67   0.000     73367.78    156666.8
------------------------------------------------------------------------------

. 
. ********** CLOSE OUTPUT
. 
. display ""


. display "Chapter 07 analysis complete."
Chapter 07 analysis complete.

. display "Figures saved to: images/"
Figures saved to: images/

. display "Tables saved to: tables/"
Tables saved to: tables/

. 
end of do-file
