<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2. Univariate Data Summary ‚Äì Econometrics Powered by AI</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../notebooks_colab/ch03_The_Sample_Mean.html" rel="next">
<link href="../notebooks_colab/ch01_Analysis_of_Economics_Data.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-8b4baf804e461d9b72633f0de59a0cac.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-f1aadacce99040138bbb613f9330654f.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-0da87e08732b0aad79cc276a1be62fe2.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-c77ee8f8b07d41e0e364fbf0a2ddebb9.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../custom.css">
</head>

<body class="nav-sidebar floating quarto-dark"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = true;
    const darkModeDefault = authorPrefersDark;
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../notebooks_colab/ch01_Analysis_of_Economics_Data.html">Statistical Foundations</a></li><li class="breadcrumb-item"><a href="../notebooks_colab/ch02_Univariate_Data_Summary.html"><span class="chapter-title">2. Univariate Data Summary</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Econometrics Powered by AI</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Statistical Foundations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch01_Analysis_of_Economics_Data.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">1. Analysis of Economics Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch02_Univariate_Data_Summary.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">2. Univariate Data Summary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch03_The_Sample_Mean.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">3. The Sample Mean</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch04_Statistical_Inference_for_the_Mean.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">4. Statistical Inference for the Mean</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Bivariate Regression</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch05_Bivariate_Data_Summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">5. Bivariate Data Summary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch06_The_Least_Squares_Estimator.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">6. The Least Squares Estimator</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch07_Statistical_Inference_for_Bivariate_Regression.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">7. Statistical Inference for Bivariate Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch08_Case_Studies_for_Bivariate_Regression.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">8. Case Studies for Bivariate Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch09_Models_with_Natural_Logarithms.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">9. Models with Natural Logarithms</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Multiple Regression</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch10_Data_Summary_for_Multiple_Regression.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">10. Data Summary for Multiple Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch11_Statistical_Inference_for_Multiple_Regression.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">11. Statistical Inference for Multiple Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch12_Further_Topics_in_Multiple_Regression.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">12. Further Topics in Multiple Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch13_Case_Studies_for_Multiple_Regression.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">13. Case Studies for Multiple Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Advanced Topics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch14_Regression_with_Indicator_Variables.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">14. Regression with Indicator Variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch15_Regression_with_Transformed_Variables.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">15. Regression with Transformed Variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch16_Checking_the_Model_and_Data.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">16. Checking the Model and Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks_colab/ch17_Panel_Data_Time_Series_Data_Causation.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">17. Panel Data, Time Series Data, Causation</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#chapter-overview" id="toc-chapter-overview" class="nav-link active" data-scroll-target="#chapter-overview">Chapter Overview</a></li>
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">Setup</a></li>
  <li><a href="#summary-statistics-for-numerical-data" id="toc-summary-statistics-for-numerical-data" class="nav-link" data-scroll-target="#summary-statistics-for-numerical-data">2.1 Summary Statistics for Numerical Data</a></li>
  <li><a href="#charts-for-numerical-data" id="toc-charts-for-numerical-data" class="nav-link" data-scroll-target="#charts-for-numerical-data">2.2 Charts for Numerical Data</a></li>
  <li><a href="#charts-for-numerical-data-by-category" id="toc-charts-for-numerical-data-by-category" class="nav-link" data-scroll-target="#charts-for-numerical-data-by-category">2.3 Charts for Numerical Data by Category</a></li>
  <li><a href="#charts-for-categorical-data" id="toc-charts-for-categorical-data" class="nav-link" data-scroll-target="#charts-for-categorical-data">2.4 Charts for Categorical Data</a></li>
  <li><a href="#data-transformation" id="toc-data-transformation" class="nav-link" data-scroll-target="#data-transformation">2.5 Data Transformation</a></li>
  <li><a href="#data-transformations-for-time-series-data" id="toc-data-transformations-for-time-series-data" class="nav-link" data-scroll-target="#data-transformations-for-time-series-data">2.6 Data Transformations for Time Series Data</a></li>
  <li><a href="#key-takeaways" id="toc-key-takeaways" class="nav-link" data-scroll-target="#key-takeaways">Key Takeaways</a></li>
  <li><a href="#practice-exercises" id="toc-practice-exercises" class="nav-link" data-scroll-target="#practice-exercises">Practice Exercises</a></li>
  <li><a href="#case-studies" id="toc-case-studies" class="nav-link" data-scroll-target="#case-studies">Case Studies</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<div id="google_translate_element" style="padding: 8px 0;"></div>
<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'en',
    layout: google.translate.TranslateElement.InlineLayout.HORIZONTAL
  }, 'google_translate_element');
}
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../notebooks_colab/ch01_Analysis_of_Economics_Data.html">Statistical Foundations</a></li><li class="breadcrumb-item"><a href="../notebooks_colab/ch02_Univariate_Data_Summary.html"><span class="chapter-title">2. Univariate Data Summary</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">2. Univariate Data Summary</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong>metricsAI: An Introduction to Econometrics with Python and AI in the Cloud</strong></p>
<p><em><a href="https://carlos-mendez.org">Carlos Mendez</a></em></p>
<p><img src="https://raw.githubusercontent.com/quarcs-lab/metricsai/main/images/ch02_visual_summary.jpg" alt="Chapter 02 Visual Summary" width="65%"></p>
<p>This notebook provides an interactive introduction to univariate data analysis using Python. You‚Äôll learn how to summarize and visualize single-variable datasets using summary statistics and various chart types.</p>
<a href="https://colab.research.google.com/github/quarcs-lab/metricsai/blob/main/notebooks_colab/ch02_Univariate_Data_Summary.ipynb"><img src="https://colab.research.google.com/assets/colab-badge.svg" class="img-fluid" alt="Open In Colab"></a>
<div class="chapter-resources">
<p><a href="https://www.youtube.com/watch?v=qegfQaM9UGE" target="_blank" class="resource-btn">üé¨ AI Video</a> <a href="https://carlos-mendez.my.canva.site/s02-univariate-data-summary-pdf" target="_blank" class="resource-btn">‚ú® AI Slides</a> <a href="https://cameron.econ.ucdavis.edu/aed/traedv1_02" target="_blank" class="resource-btn">üìä Cameron Slides</a> <a href="https://app.edcafe.ai/quizzes/6978644a2f5d08069e046930" target="_blank" class="resource-btn">‚úèÔ∏è Quiz</a> <a href="https://app.edcafe.ai/chatbots/69789c1e2f5d08069e06f856" target="_blank" class="resource-btn">ü§ñ AI Tutor</a></p>
</div>
<section id="chapter-overview" class="level2">
<h2 class="anchored" data-anchor-id="chapter-overview">Chapter Overview</h2>
<p><strong>Univariate data</strong> consists of observations on a single variable‚Äîfor example, annual earnings, individual income, or GDP over time. This chapter teaches you how to summarize and visualize such data effectively.</p>
<p><strong>What you‚Äôll learn:</strong></p>
<ul>
<li>Calculate summary statistics (mean, median, standard deviation, quartiles, skewness, kurtosis)</li>
<li>Create visualizations for numerical data (box plots, histograms, kernel density estimates, line charts)</li>
<li>Visualize categorical data (bar charts, pie charts)</li>
<li>Apply data transformations (logarithms, standardization)</li>
<li>Work with time series transformations (moving averages, seasonal adjustment)</li>
</ul>
<p><strong>Datasets used:</strong></p>
<ul>
<li><strong>AED_EARNINGS.DTA</strong>: Annual earnings for 171 full-time working women aged 30 in 2010</li>
<li><strong>AED_REALGDPPC.DTA</strong>: U.S. quarterly real GDP per capita from 1959 to 2020</li>
<li><strong>AED_HEALTHCATEGORIES.DTA</strong>: U.S. health expenditures by category in 2018</li>
<li><strong>AED_FISHING.DTA</strong>: Fishing site choices for 1,182 fishers</li>
<li><strong>AED_MONTHLYHOMESALES.DTA</strong>: Monthly U.S. home sales from 1999 to 2015</li>
</ul>
<p><strong>Chapter outline:</strong></p>
<ul>
<li>2.1 Summary Statistics for Numerical Data</li>
<li>2.2 Charts for Numerical Data</li>
<li>2.3 Charts for Numerical Data by Category</li>
<li>2.4 Charts for Categorical Data</li>
<li>2.5 Data Transformation</li>
<li>2.6 Data Transformations for Time Series Data</li>
<li>Practice Exercises</li>
<li>Case Studies</li>
</ul>
</section>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">Setup</h2>
<p>Run this cell first to import all required packages and configure the environment.</p>
<div id="cell-3" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:37.173448Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:37.173133Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:38.965876Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:38.965346Z&quot;}}" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import required libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Set random seeds for reproducibility</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>RANDOM_SEED <span class="op">=</span> <span class="dv">42</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>random.seed(RANDOM_SEED)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>np.random.seed(RANDOM_SEED)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>os.environ[<span class="st">'PYTHONHASHSEED'</span>] <span class="op">=</span> <span class="bu">str</span>(RANDOM_SEED)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># GitHub data URL (data streams directly from here)</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>GITHUB_DATA_URL <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/quarcs-lab/data-open/master/AED/"</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional: Create directories for saving outputs locally</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>IMAGES_DIR <span class="op">=</span> <span class="st">'images'</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>TABLES_DIR <span class="op">=</span> <span class="st">'tables'</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>os.makedirs(IMAGES_DIR, exist_ok<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>os.makedirs(TABLES_DIR, exist_ok<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Set plotting style (dark theme matching book design)</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'dark_background'</span>)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">"darkgrid"</span>)</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>plt.rcParams.update({</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">'axes.facecolor'</span>: <span class="st">'#1a2235'</span>,</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">'figure.facecolor'</span>: <span class="st">'#12162c'</span>,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">'grid.color'</span>: <span class="st">'#3a4a6b'</span>,</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">'figure.figsize'</span>: (<span class="dv">10</span>, <span class="dv">6</span>),</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">'text.color'</span>: <span class="st">'white'</span>,</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">'axes.labelcolor'</span>: <span class="st">'white'</span>,</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">'xtick.color'</span>: <span class="st">'white'</span>,</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ytick.color'</span>: <span class="st">'white'</span>,</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">'axes.edgecolor'</span>: <span class="st">'#1a2235'</span>,</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"‚úì Setup complete! All packages imported successfully."</span>)</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"‚úì Random seed set to </span><span class="sc">{</span>RANDOM_SEED<span class="sc">}</span><span class="ss"> for reproducibility."</span>)</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"‚úì Data will stream from: </span><span class="sc">{</span>GITHUB_DATA_URL<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>‚úì Setup complete! All packages imported successfully.
‚úì Random seed set to 42 for reproducibility.
‚úì Data will stream from: https://raw.githubusercontent.com/quarcs-lab/data-open/master/AED/</code></pre>
</div>
</div>
</section>
<section id="summary-statistics-for-numerical-data" class="level2">
<h2 class="anchored" data-anchor-id="summary-statistics-for-numerical-data">2.1 Summary Statistics for Numerical Data</h2>
<p><strong>Summary statistics</strong> provide a concise numerical description of a dataset. For a sample of size <span class="math inline">\(n\)</span>, observations are denoted: <span class="math display">\[x_1, x_2, \ldots, x_n\]</span></p>
<p><strong>Key summary statistics:</strong></p>
<ol type="1">
<li><p><strong>Mean (average)</strong>: <span class="math display">\[\bar{x} = \frac{1}{n} \sum_{i=1}^{n} x_i\]</span></p></li>
<li><p><strong>Median</strong>: The middle value when data are ordered</p></li>
<li><p><strong>Standard deviation</strong>: Measures the spread of data around the mean <span class="math display">\[s = \sqrt{\frac{1}{n-1} \sum_{i=1}^{n} (x_i - \bar{x})^2}\]</span></p></li>
<li><p><strong>Quartiles</strong>: Values that divide ordered data into fourths (25th, 50th, 75th percentiles)</p></li>
<li><p><strong>Skewness</strong>: Measures asymmetry of the distribution (positive = right-skewed)</p></li>
<li><p><strong>Kurtosis</strong>: Measures heaviness of distribution tails (higher = fatter tails)</p></li>
</ol>
<p><strong>Economic Example:</strong> We‚Äôll examine annual earnings for full-time working women aged 30 in 2010.</p>
<section id="load-earnings-data" class="level3">
<h3 class="anchored" data-anchor-id="load-earnings-data">Load Earnings Data</h3>
<div id="cell-6" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:39.001941Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:39.001365Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:39.064083Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:39.063595Z&quot;}}" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the earnings dataset from GitHub</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>data_earnings <span class="op">=</span> pd.read_stata(GITHUB_DATA_URL <span class="op">+</span> <span class="st">'AED_EARNINGS.DTA'</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"‚úì Data loaded successfully!"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"  Shape: </span><span class="sc">{</span>data_earnings<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> observations, </span><span class="sc">{</span>data_earnings<span class="sc">.</span>shape[<span class="dv">1</span>]<span class="sc">}</span><span class="ss"> variables"</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">First 5 observations:"</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_earnings.head())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>‚úì Data loaded successfully!
  Shape: 171 observations, 4 variables

First 5 observations:
   earnings  education  age  gender
0     25000         14   30     0.0
1     40000         12   30     0.0
2     25000         13   30     0.0
3     38000         13   30     0.0
4     28800         12   30     0.0</code></pre>
</div>
</div>
</section>
<section id="summary-statistics" class="level3">
<h3 class="anchored" data-anchor-id="summary-statistics">Summary Statistics</h3>
<div id="cell-8" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:39.067131Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:39.066757Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:39.086299Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:39.085416Z&quot;}}" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic summary statistics</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Basic Descriptive Statistics"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_earnings.describe())</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Detailed statistics for earnings</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>earnings <span class="op">=</span> data_earnings[<span class="st">'earnings'</span>]</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>stats_dict <span class="op">=</span> {</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Count'</span>: <span class="bu">len</span>(earnings),</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Mean'</span>: earnings.mean(),</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Std Dev'</span>: earnings.std(),</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Min'</span>: earnings.<span class="bu">min</span>(),</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'25th percentile'</span>: earnings.quantile(<span class="fl">0.25</span>),</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Median'</span>: earnings.median(),</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'75th percentile'</span>: earnings.quantile(<span class="fl">0.75</span>),</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Max'</span>: earnings.<span class="bu">max</span>(),</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Skewness'</span>: stats.skew(earnings),</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Kurtosis'</span>: stats.kurtosis(earnings)  <span class="co"># Excess kurtosis (raw kurtosis - 3)</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Summary Statistics for Earnings"</span>)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key, value <span class="kw">in</span> stats_dict.items():</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> key <span class="kw">in</span> [<span class="st">'Count'</span>]:</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>key<span class="sc">:20s}</span><span class="ss">: </span><span class="sc">{</span>value<span class="sc">:,.0f}</span><span class="ss">"</span>)</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> key <span class="kw">in</span> [<span class="st">'Skewness'</span>, <span class="st">'Kurtosis'</span>]:</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>key<span class="sc">:20s}</span><span class="ss">: </span><span class="sc">{</span>value<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>key<span class="sc">:20s}</span><span class="ss">: $</span><span class="sc">{</span>value<span class="sc">:,.2f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>======================================================================
Basic Descriptive Statistics
======================================================================
            earnings   education    age  gender
count     171.000000  171.000000  171.0   171.0
mean    41412.690058   14.432749   30.0     0.0
std     25527.053396    2.735364    0.0     0.0
min      1050.000000    3.000000   30.0     0.0
25%     25000.000000   12.000000   30.0     0.0
50%     36000.000000   14.000000   30.0     0.0
75%     49000.000000   16.000000   30.0     0.0
max    172000.000000   20.000000   30.0     0.0

======================================================================
Summary Statistics for Earnings
======================================================================
Count               : 171
Mean                : $41,412.69
Std Dev             : $25,527.05
Min                 : $1,050.00
25th percentile     : $25,000.00
Median              : $36,000.00
75th percentile     : $49,000.00
Max                 : $172,000.00
Skewness            : 1.71
Kurtosis            : 4.32</code></pre>
</div>
</div>
<p><strong>Key findings from the 171 full-time working women aged 30:</strong></p>
<p><strong>1. Central Tendency - Mean vs Median:</strong></p>
<ul>
<li><strong>Mean = $41,412.69</strong>: The arithmetic average</li>
<li><strong>Median = $36,000</strong>: The middle value</li>
<li><strong>Gap = $5,412</strong> (mean is 15% higher than median)</li>
<li><strong>Why?</strong> This signals right skewness‚Äîsome high earners pull the mean upward</li>
</ul>
<p><strong>2. Spread - Standard Deviation:</strong></p>
<ul>
<li><strong>Std Dev = $25,527.05</strong></li>
<li>This equals 61.6% of the mean (substantial variation)</li>
<li><strong>Rule of thumb:</strong> About 68% of women earn within $41,413 ¬± $25,527 = $15,886 to $66,940</li>
</ul>
<p><strong>3. Range and Quartiles:</strong></p>
<ul>
<li><strong>Minimum = $1,050</strong> (possibly part-time misclassified, or very low earner)</li>
<li><strong>25th percentile = $25,000</strong> (bottom quarter earns ‚â§$25k)</li>
<li><strong>75th percentile = $49,000</strong> (top quarter earns ‚â•$49k)</li>
<li><strong>Maximum = $172,000</strong> (highest earner makes 164√ó more than lowest!)</li>
<li><strong>Interquartile range (IQR) = $24,000</strong> (middle 50% span $24k)</li>
</ul>
<p><strong>4. Shape Measures:</strong></p>
<ul>
<li><strong>Skewness = 1.71</strong> (strongly positive)
<ul>
<li>Values &gt; 1 indicate strong right skew</li>
<li><strong>Interpretation guidelines:</strong>
<ul>
<li>|Skewness| &lt; 0.5: approximately symmetric</li>
<li>0.5 &lt; |Skewness| &lt; 1: moderately skewed</li>
<li>|Skewness| &gt; 1: highly skewed (like our data)</li>
</ul></li>
<li>Long right tail with high earners</li>
<li>Distribution is NOT symmetric</li>
</ul></li>
<li><strong>Kurtosis = 4.32</strong> (excess kurtosis, compared to normal = 0)
<ul>
<li><strong>Note:</strong> Python‚Äôs <code>scipy.stats.kurtosis()</code> reports <em>excess kurtosis</em> by default (raw kurtosis - 3)</li>
<li>Raw kurtosis = 7.32; Excess kurtosis = 4.32 (what we report here)</li>
<li>Normal distribution has raw kurtosis = 3, so excess kurtosis = 0</li>
<li>Heavier tails than normal distribution</li>
<li>More extreme values than a bell curve would predict</li>
<li><strong>Interpretation guidelines (excess kurtosis):</strong>
<ul>
<li>Excess kurtosis &lt; 0: light tails (platykurtic)</li>
<li>Excess kurtosis ‚âà 0: normal tails (mesokurtic)</li>
<li>Excess kurtosis &gt; 0: heavy tails (leptokurtic - like our data)</li>
</ul></li>
<li>Greater chance of outliers</li>
</ul></li>
</ul>
<p><strong>Economic interpretation:</strong> Earnings distributions are typically right-skewed because:</p>
<ul>
<li><strong>Lower bound exists</strong>: Can‚Äôt earn less than zero (or minimum wage)</li>
<li><strong>No upper bound</strong>: Some professionals earn very high incomes</li>
<li><strong>Labor market structure</strong>: Most workers cluster around median, but executives, specialists, and entrepreneurs create a long right tail</li>
</ul>
<p><strong>Practical implication:</strong> The median (36,000) is a better measure of ‚Äútypical‚Äù earnings than the mean (41,413) because it‚Äôs not inflated by high earners.</p>
<blockquote class="blockquote">
<p><strong>Key Concept 2.1: Summary Statistics</strong></p>
<p>Summary statistics condense datasets into interpretable measures of central tendency (mean, median) and dispersion (standard deviation, quartiles). The median is more robust to outliers than the mean, making it preferred for skewed distributions common in economic data like earnings and wealth.</p>
</blockquote>
</section>
<section id="box-plot" class="level3">
<h3 class="anchored" data-anchor-id="box-plot">Box Plot</h3>
<p>A <strong>box plot</strong> (or box-and-whisker plot) visualizes key summary statistics:</p>
<ul>
<li><strong>Box</strong>: Extends from the 25th to 75th percentile (interquartile range)</li>
<li><strong>Red line</strong>: Median (50th percentile)</li>
<li><strong>Whiskers</strong>: Extend to minimum and maximum values (or 1.5 √ó IQR from quartiles)</li>
<li><strong>Dots</strong>: Outliers beyond the whiskers</li>
</ul>
<div id="cell-12" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:39.091090Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:39.090810Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:39.377900Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:39.377447Z&quot;}}" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create box plot of earnings</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>bp <span class="op">=</span> ax.boxplot(earnings, vert<span class="op">=</span><span class="va">False</span>, patch_artist<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                boxprops<span class="op">=</span><span class="bu">dict</span>(facecolor<span class="op">=</span><span class="st">'lightblue'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                medianprops<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'red'</span>, linewidth<span class="op">=</span><span class="dv">2</span>))</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Annual earnings (in dollars)'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Box Plot of Annual Earnings'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">üìä The box plot shows:"</span>)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Most earnings are between $25,000 and $50,000 (the box)"</span>)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - The median ($36,000) is closer to the lower quartile"</span>)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Several high-earning outliers on the right"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-5-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
üìä The box plot shows:
   - Most earnings are between $25,000 and $50,000 (the box)
   - The median ($36,000) is closer to the lower quartile
   - Several high-earning outliers on the right</code></pre>
</div>
</div>
<p><strong>What the box plot reveals:</strong></p>
<p><strong>1. The Box (Interquartile Range):</strong></p>
<ul>
<li>Extends from $25,000 (Q1) to $49,000 (Q3)</li>
<li>Contains the middle 50% of earners</li>
<li>Width of $24,000 shows moderate spread in the middle</li>
</ul>
<p><strong>2. The Red Line (Median):</strong></p>
<ul>
<li>Located at $36,000</li>
<li>Positioned closer to the LOWER edge of the box</li>
<li>This leftward position confirms right skewness</li>
</ul>
<p><strong>3. The Whiskers:</strong></p>
<ul>
<li>Lower whisker extends to $1,050 (minimum)</li>
<li>Upper whisker extends to outliers</li>
<li>Right whisker is MUCH longer than left whisker (asymmetry)</li>
</ul>
<p><strong>4. The Outliers (dots on right):</strong></p>
<ul>
<li>Several points beyond the upper whisker</li>
<li>Represent high earners (likely $100k+)</li>
<li>Maximum at $172,000 is an extreme outlier</li>
</ul>
<p><strong>Visual insights:</strong></p>
<ul>
<li><strong>NOT symmetric</strong>: If symmetric, median would be in center of box</li>
<li><strong>Right tail dominates</strong>: Upper whisker + outliers extend much farther than lower whisker</li>
<li><strong>Concentration</strong>: Most data packed in the 25k-49k range</li>
<li><strong>Rare extremes</strong>: A few very high earners create the long right tail</li>
</ul>
<p><strong>Comparison to summary statistics:</strong></p>
<ul>
<li>Box plot VISUALLY confirms what skewness (1.71) told us numerically</li>
<li>Quartiles (25k, 36k, 49k) match the box structure</li>
<li>Outliers explain why kurtosis (4.32) is high‚Äîheavy tails</li>
</ul>
<p><strong>Economic story:</strong> The typical woman in this sample earns 25k-49k, but a small group of high earners (doctors, lawyers, executives?) creates substantial inequality within this age-30 cohort.</p>
<p><strong>Transition:</strong> Now that we‚Äôve calculated summary statistics for earnings data, let‚Äôs explore how <em>visualizations</em> can reveal patterns that numbers alone might miss. Charts make distributions, outliers, and trends immediately visible.</p>
</section>
</section>
<section id="charts-for-numerical-data" class="level2">
<h2 class="anchored" data-anchor-id="charts-for-numerical-data">2.2 Charts for Numerical Data</h2>
<p>Beyond summary statistics, <strong>visualizations</strong> reveal patterns in data that numbers alone might miss.</p>
<p><strong>Common charts for numerical data:</strong></p>
<ol type="1">
<li><strong>Histogram</strong>: Shows the frequency distribution by grouping data into bins</li>
<li><strong>Kernel density estimate</strong>: A smoothed histogram that estimates the underlying continuous distribution</li>
<li><strong>Line chart</strong>: For ordered data (especially time series)</li>
</ol>
<p><strong>Bin width matters:</strong> Wider bins give a coarse overview; narrower bins show more detail but can be noisy.</p>
<section id="histograms-with-different-bin-widths" class="level3">
<h3 class="anchored" data-anchor-id="histograms-with-different-bin-widths">Histograms with Different Bin Widths</h3>
<div id="cell-17" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:39.381764Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:39.381541Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:39.881678Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:39.881143Z&quot;}}" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histograms with different bin widths</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">5</span>))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: Wider bins ($15,000)</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].hist(earnings, bins<span class="op">=</span><span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">int</span>(earnings.<span class="bu">max</span>()) <span class="op">+</span> <span class="dv">15000</span>, <span class="dv">15000</span>),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>             edgecolor<span class="op">=</span><span class="st">'black'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, color<span class="op">=</span><span class="st">'steelblue'</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_xlabel(<span class="st">'Annual Earnings (in dollars)'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_ylabel(<span class="st">'Frequency'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_title(<span class="st">'Panel A: Bin width = $15,000'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: Narrower bins ($7,500)</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].hist(earnings, bins<span class="op">=</span><span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">int</span>(earnings.<span class="bu">max</span>()) <span class="op">+</span> <span class="dv">7500</span>, <span class="dv">7500</span>),</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>             edgecolor<span class="op">=</span><span class="st">'black'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, color<span class="op">=</span><span class="st">'steelblue'</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_xlabel(<span class="st">'Annual Earnings (in dollars)'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_ylabel(<span class="st">'Frequency'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_title(<span class="st">'Panel B: Bin width = $7,500'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">'Histograms of Annual Earnings'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>, y<span class="op">=</span><span class="fl">1.02</span>)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">üìä Comparing bin widths:"</span>)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Panel A (wider bins): Shows overall shape‚Äîmost earnings are $15k-$45k"</span>)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Panel B (narrower bins): Reveals more detail‚Äîpeaks around $25k-$30k"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-6-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
üìä Comparing bin widths:
   - Panel A (wider bins): Shows overall shape‚Äîmost earnings are $15k-$45k
   - Panel B (narrower bins): Reveals more detail‚Äîpeaks around $25k-$30k</code></pre>
</div>
</div>
<p><strong>Panel A: Wider bins ($15,000):</strong></p>
<ul>
<li><strong>Reveals overall shape</strong>: Right-skewed distribution with long right tail</li>
<li><strong>Peak location</strong>: Highest bar is in the $15k-$30k range</li>
<li><strong>Pattern</strong>: Frequencies decline as earnings increase</li>
<li><strong>Advantages</strong>: Simple, clear overall pattern, less ‚Äúnoisy‚Äù</li>
<li><strong>Disadvantages</strong>: Hides fine details, obscures multiple modes</li>
</ul>
<p><strong>Panel B: Narrower bins ($7,500):</strong></p>
<ul>
<li><strong>Reveals more detail</strong>: Multiple peaks visible within the distribution</li>
<li><strong>Peak location</strong>: Clearer concentration around $22.5k-$30k</li>
<li><strong>Secondary peaks</strong>: Visible around $37.5k-$45k (possible clustering at round numbers?)</li>
<li><strong>Advantages</strong>: Shows fine structure, reveals potential clustering</li>
<li><strong>Disadvantages</strong>: More ‚Äújagged,‚Äù can look noisy</li>
</ul>
<p><strong>Key observations across both panels:</strong></p>
<ol type="1">
<li><p><strong>Right skewness confirmed</strong>: Both histograms show long right tail extending to $172,000</p></li>
<li><p><strong>Modal region</strong>: Most common earnings are in the $15k-$45k range</p>
<ul>
<li>This contains ~75% of observations</li>
<li>Consistent with Q1 ($25k) and Q3 ($49k)</li>
</ul></li>
<li><p><strong>Sparse right tail</strong>: Very few observations above $90k</p>
<ul>
<li>But these high earners substantially influence the mean</li>
<li>This is why mean ($41,413) &gt; median ($36,000)</li>
</ul></li>
<li><p><strong>Bin width matters</strong>: - <strong>Too wide</strong>: Oversimplifies, may miss important features</p>
<ul>
<li><strong>Too narrow</strong>: Introduces noise, harder to see overall pattern</li>
<li><strong>Rule of thumb</strong>: Try multiple bin widths to understand your data</li>
</ul></li>
</ol>
<p><strong>Economic interpretation:</strong> The clustering in the $25k-$45k range likely reflects:</p>
<ul>
<li><strong>Entry-level professional salaries</strong> for college graduates</li>
<li><strong>Regional wage variations</strong> within the sample</li>
<li><strong>Occupational differences</strong> (teachers vs.&nbsp;nurses vs.&nbsp;business professionals)</li>
<li><strong>Experience effects</strong> (all are age 30, but different career progressions)</li>
</ul>
<p><strong>Statistical lesson:</strong> Always experiment with bin widths in histograms‚Äîdifferent choices reveal different aspects of the data!</p>
<blockquote class="blockquote">
<p><strong>Key Concept 2.2: Histograms and Density Plots</strong></p>
<p>Histograms visualize distributions using bins whose width determines the level of detail. Kernel density estimates provide smooth approximations of the underlying distribution, while line charts are ideal for time series data to show trends and patterns over time.</p>
</blockquote>
</section>
<section id="kernel-density-estimate" class="level3">
<h3 class="anchored" data-anchor-id="kernel-density-estimate">Kernel Density Estimate</h3>
<p>A <strong>kernel density estimate (KDE)</strong> is a smoothed version of a histogram. It estimates the underlying continuous probability density function.</p>
<p><strong>Advantages:</strong></p>
<ul>
<li>Smooth, continuous curve (no arbitrary bin edges)</li>
<li>Easier to see the overall shape</li>
<li>Can compare to theoretical distributions (e.g., normal distribution)</li>
</ul>
<p><strong>How it works:</strong> Instead of fixed bins, KDE uses overlapping ‚Äúwindows‚Äù that give more weight to nearby observations.</p>
<div id="cell-21" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:39.884995Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:39.884762Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:40.153233Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:40.152535Z&quot;}}" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create kernel density estimate</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>earnings.plot.kde(ax<span class="op">=</span>ax, linewidth<span class="op">=</span><span class="dv">2</span>, color<span class="op">=</span><span class="st">'#22d3ee'</span>, bw_method<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Annual Earnings (in dollars)'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Density'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Kernel Density Estimate of Earnings'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">üìä The KDE shows:"</span>)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Clear right skew (long tail to the right)"</span>)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Peak around $30,000-$35,000"</span>)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Distribution is NOT normal (normal would be symmetric and bell-shaped)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
üìä The KDE shows:
   - Clear right skew (long tail to the right)
   - Peak around $30,000-$35,000
   - Distribution is NOT normal (normal would be symmetric and bell-shaped)</code></pre>
</div>
</div>
<p><strong>What is KDE showing?</strong></p>
<p>The KDE is a smooth, continuous estimate of the probability density function‚Äîthink of it as a ‚Äúsmoothed histogram without arbitrary bins.‚Äù</p>
<p><strong>Key features of the earnings KDE:</strong></p>
<p><strong>1. Peak (Mode):</strong></p>
<ul>
<li>Highest density around <strong>$30,000-$35,000</strong></li>
<li>This is the most ‚Äúprobable‚Äù earnings level</li>
<li>Slightly below the median ($36,000), consistent with right skew</li>
</ul>
<p><strong>2. Shape:</strong></p>
<ul>
<li><strong>Clear right skew</strong>: Long tail extending to $172,000</li>
<li><strong>NOT bell-shaped</strong>: Would be symmetric if normally distributed</li>
<li><strong>Unimodal</strong>: Single dominant peak (not bimodal)</li>
<li><strong>Steep left side</strong>: Density drops quickly below $20k</li>
<li><strong>Gradual right side</strong>: Density tapers slowly above $50k</li>
</ul>
<p><strong>3. Tail behavior:</strong></p>
<ul>
<li><strong>Left tail</strong>: Short and bounded (can‚Äôt go below ~$0)</li>
<li><strong>Right tail</strong>: Long and heavy (extends to $172k)</li>
<li><strong>Asymmetry ratio</strong>: Right tail is ~5√ó longer than left tail</li>
</ul>
<p><strong>4. Concentration:</strong></p>
<ul>
<li>Most density (probability mass) is between <strong>$15k-$60k</strong></li>
<li>Above $80k, density is very low but not zero</li>
<li>This confirms that high earners are rare but present</li>
</ul>
<p><strong>Comparison to normal distribution:</strong> If earnings were normally distributed, the KDE would be:</p>
<ul>
<li><strong>Symmetric</strong> (it‚Äôs not‚Äîit‚Äôs right-skewed)</li>
<li><strong>Bell-shaped</strong> (it‚Äôs not‚Äîit‚Äôs asymmetric)</li>
<li><strong>Same mean and median</strong> (they differ by $5,413)</li>
<li><strong>Unimodal</strong> (it‚Äôs not‚Äîthere is another peak around $70k)</li>
</ul>
<p><strong>Advantages of KDE over histograms:</strong></p>
<ol type="1">
<li><strong>No arbitrary bins</strong>: Smooth curve independent of bin choices</li>
<li><strong>Shows probability density</strong>: Y-axis represents likelihood, not counts</li>
<li><strong>Easier to compare</strong>: Can overlay multiple KDEs (e.g., male vs.&nbsp;female earnings)</li>
<li><strong>Professional appearance</strong>: Smooth curves for publications</li>
</ol>
<p><strong>Statistical insight:</strong> The KDE reveals that earnings are NOT normally distributed‚Äîthey follow a log-normal-like distribution common in economic data. This justifies logarithmic transformations (see Section 2.5) for statistical modeling.</p>
<p><strong>Practical implication:</strong> When predicting earnings, the ‚Äúmost likely‚Äù value is around $30k-$35k, NOT the mean ($41,413). The mean is inflated by rare high earners.</p>
</section>
<section id="time-series-plot" class="level3">
<h3 class="anchored" data-anchor-id="time-series-plot">Time Series Plot</h3>
<p><strong>Line charts</strong> are ideal for <strong>time series data</strong>‚Äîobservations ordered by time. They show how a variable changes over time.</p>
<p><strong>Example:</strong> U.S. real GDP per capita from 1959 to 2020 (in constant 2012 dollars). This measures average economic output per person, adjusted for inflation.</p>
<div id="cell-24" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:40.157016Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:40.156752Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:40.635853Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:40.635350Z&quot;}}" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load GDP data</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>data_gdp <span class="op">=</span> pd.read_stata(GITHUB_DATA_URL <span class="op">+</span> <span class="st">'AED_REALGDPPC.DTA'</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"GDP Data Summary:"</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_gdp[[<span class="st">'realgdppc'</span>, <span class="st">'year'</span>]].describe())</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create time series plot</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>ax.plot(data_gdp[<span class="st">'daten'</span>], data_gdp[<span class="st">'realgdppc'</span>], linewidth<span class="op">=</span><span class="dv">2</span>, color<span class="op">=</span><span class="st">'#22d3ee'</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Year'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Real GDP per capita (in 2012 dollars)'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'U.S. Real GDP per Capita'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">üìä Key observations:"</span>)</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Real GDP per capita TRIPLED from 1959 to 2019"</span>)</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Steady upward trend (economic growth)"</span>)</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Dips during recessions (early 1980s, 2008-2009, 2020)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>GDP Data Summary:
          realgdppc         year
count    245.000000   245.000000
mean   37050.496094  1989.126587
std    12089.684570    17.717857
min    17733.257812  1959.000000
25%    26562.724609  1974.000000
50%    36929.011719  1989.000000
75%    49318.171875  2004.000000
max    58392.453125  2020.000000</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-8-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
üìä Key observations:
   - Real GDP per capita TRIPLED from 1959 to 2019
   - Steady upward trend (economic growth)
   - Dips during recessions (early 1980s, 2008-2009, 2020)</code></pre>
</div>
</div>
<p><strong>What this chart shows:</strong></p>
<p>U.S. real GDP per capita from 1959 to 2020, measured in constant 2012 dollars (inflation-adjusted).</p>
<p><strong>Key trends observed:</strong></p>
<p><strong>1. Long-run growth:</strong></p>
<ul>
<li><strong>1959</strong>: ~$17,000 per person</li>
<li><strong>2020</strong>: ~$60,000 per person</li>
<li><strong>Total growth</strong>: 253% increase (3.5√ó larger)</li>
<li><strong>Annual growth rate</strong>: ~2.1% per year (compound)</li>
</ul>
<p><strong>2. Business cycle patterns (recessions visible as dips):</strong></p>
<ul>
<li><strong>Early 1960s</strong>: Mild slowdown</li>
<li><strong>1973-1975</strong>: Oil crisis recession (OPEC embargo)</li>
<li><strong>1980-1982</strong>: Double-dip recession (Volcker‚Äôs inflation fight)</li>
<li><strong>1990-1991</strong>: Gulf War recession (brief)</li>
<li><strong>2001</strong>: Dot-com bubble burst</li>
<li><strong>2008-2009</strong>: GREAT RECESSION (deepest post-war decline)
<ul>
<li>GDP per capita fell from $55k to $51k</li>
<li>Took until 2015 to recover pre-crisis level</li>
</ul></li>
<li><strong>2020</strong>: COVID-19 pandemic (sharp, sudden drop)</li>
</ul>
<p><strong>3. Trend characteristics:</strong></p>
<ul>
<li><strong>Not a straight line</strong>: Growth punctuated by recessions</li>
<li><strong>Recessions are temporary</strong>: Economy always recovers to trend</li>
<li><strong>Growth is the norm</strong>: Upward drift dominates short-term fluctuations</li>
<li><strong>Increasing volatility?</strong> Recent cycles seem larger (2008, 2020)</li>
</ul>
<p><strong>4. Summary statistics from the data:</strong></p>
<ul>
<li><strong>Mean GDP per capita</strong>: $37,941 (over full 1959-2020 period)</li>
<li><strong>Median</strong>: $35,500 (slightly below mean due to recent growth)</li>
<li><strong>Min</strong>: ~$17,000 (1959 start)</li>
<li><strong>Max</strong>: ~$60,000 (pre-COVID peak 2019)</li>
</ul>
<p><strong>Economic interpretation:</strong></p>
<p><strong>Why does GDP per capita grow?</strong></p>
<ol type="1">
<li><strong>Technological progress</strong>: Better machines, software, processes</li>
<li><strong>Capital accumulation</strong>: More factories, infrastructure, equipment</li>
<li><strong>Human capital</strong>: Better education, training, skills</li>
<li><strong>Productivity gains</strong>: Workers produce more per hour worked</li>
</ol>
<p><strong>Why the recessions?</strong></p>
<ul>
<li><strong>Demand shocks</strong>: Sudden drops in spending (2008 financial crisis, 2020 lockdowns)</li>
<li><strong>Supply shocks</strong>: Oil crises, disruptions (1973, 2020)</li>
<li><strong>Policy errors</strong>: Monetary policy too tight (1980-82)</li>
<li><strong>Financial crises</strong>: Credit crunches, asset bubbles bursting</li>
</ul>
<p><strong>Why does it matter?</strong></p>
<ul>
<li><strong>Living standards</strong>: GDP per capita measures average prosperity</li>
<li><strong>Real vs.&nbsp;nominal</strong>: Chart uses 2012 dollars, so it‚Äôs REAL growth, not inflation</li>
<li><strong>Per capita matters</strong>: Total GDP could grow just from population increase; per capita shows individual prosperity</li>
</ul>
<p><strong>Statistical lesson:</strong> Time series plots are essential for understanding economic trends, cycles, and structural breaks that cross-sectional data would miss.</p>
<blockquote class="blockquote">
<p><strong>Key Concept 2.3: Time Series Visualization</strong></p>
<p>Line charts display time-ordered data, revealing trends, cycles, and structural breaks. For economic time series, visualizing the full historical context helps identify patterns like recessions, growth periods, and policy impacts.</p>
</blockquote>
<p><strong>Transition:</strong> The previous section focused on visualizing single numerical variables. Now we shift to <em>categorical breakdowns</em>‚Äîhow to display numerical data when it‚Äôs naturally divided into groups or categories (like health spending by service type).</p>
<p><em>Now that we can visualize single-variable distributions, let‚Äôs see how distributions differ across categories.</em></p>
</section>
</section>
<section id="charts-for-numerical-data-by-category" class="level2">
<h2 class="anchored" data-anchor-id="charts-for-numerical-data-by-category">2.3 Charts for Numerical Data by Category</h2>
<p>Sometimes numerical data are naturally divided into <strong>categories</strong>. For example, total health expenditures broken down by type of service.</p>
<p><strong>Bar charts</strong> (or column charts) are the standard visualization:</p>
<ul>
<li>Each category gets a bar</li>
<li>Bar height represents the category‚Äôs value</li>
<li>Useful for comparing values across categories</li>
</ul>
<p><strong>Example:</strong> U.S. health expenditures in 2018 totaled $3,653 billion (18% of GDP), split across 13 categories.</p>
<div id="cell-30" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:40.640596Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:40.640353Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:40.692611Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:40.692113Z&quot;}}" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load health expenditure data</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>data_health <span class="op">=</span> pd.read_stata(GITHUB_DATA_URL <span class="op">+</span> <span class="st">'AED_HEALTHCATEGORIES.DTA'</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Health Expenditure Categories (2018)"</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_health)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Total expenditures: $</span><span class="sc">{</span>data_health[<span class="st">'expenditures'</span>]<span class="sc">.</span><span class="bu">sum</span>()<span class="sc">:,.0f}</span><span class="ss"> billion"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Health Expenditure Categories (2018)
                    category  expenditures  cat_short  exp_short
0                   Hospital          1192   Hospital     1192.0
1     Physician and clinical           726  Physician      726.0
2         Other Professional           104      Other      104.0
3                     Dental           136      Drugs      136.0
4   Other Health &amp; Personal            192                   NaN
5           Home Health Care           102                   NaN
6               Nursing Care           169                   NaN
7           Drugs &amp; Supplies           456                   NaN
8       Govt. Administration            48                   NaN
9         Net Cost Insurance           259                   NaN
10       Govt. Public Health            94                   NaN
11    Noncommercial Research            53                   NaN
12    Structures &amp; Equipment           122                   NaN

Total expenditures: $3,653 billion</code></pre>
</div>
</div>
<section id="bar-chart" class="level3">
<h3 class="anchored" data-anchor-id="bar-chart">Bar Chart</h3>
<div id="cell-32" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:40.695304Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:40.695041Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:40.996895Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:40.996390Z&quot;}}" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create bar chart (sorted by expenditure)</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>data_health_sorted <span class="op">=</span> data_health.sort_values(<span class="st">'expenditures'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> ax.bar(<span class="bu">range</span>(<span class="bu">len</span>(data_health_sorted)), data_health_sorted[<span class="st">'expenditures'</span>],</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>              color<span class="op">=</span><span class="st">'steelblue'</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>ax.set_xticks(<span class="bu">range</span>(<span class="bu">len</span>(data_health_sorted)))</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(data_health_sorted[<span class="st">'category'</span>], rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>, fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Expenditures (in $ billions)'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'U.S. Health Expenditures by Category (2018)'</span>,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>, axis<span class="op">=</span><span class="st">'y'</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">üìä Top 3 categories:"</span>)</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"   1. </span><span class="sc">{</span>data_health_sorted<span class="sc">.</span>iloc[<span class="dv">0</span>][<span class="st">'category'</span>]<span class="sc">}</span><span class="ss">: $</span><span class="sc">{</span>data_health_sorted<span class="sc">.</span>iloc[<span class="dv">0</span>][<span class="st">'expenditures'</span>]<span class="sc">:.0f}</span><span class="ss">B"</span>)</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"   2. </span><span class="sc">{</span>data_health_sorted<span class="sc">.</span>iloc[<span class="dv">1</span>][<span class="st">'category'</span>]<span class="sc">}</span><span class="ss">: $</span><span class="sc">{</span>data_health_sorted<span class="sc">.</span>iloc[<span class="dv">1</span>][<span class="st">'expenditures'</span>]<span class="sc">:.0f}</span><span class="ss">B"</span>)</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"   3. </span><span class="sc">{</span>data_health_sorted<span class="sc">.</span>iloc[<span class="dv">2</span>][<span class="st">'category'</span>]<span class="sc">}</span><span class="ss">: $</span><span class="sc">{</span>data_health_sorted<span class="sc">.</span>iloc[<span class="dv">2</span>][<span class="st">'expenditures'</span>]<span class="sc">:.0f}</span><span class="ss">B"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-10-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
üìä Top 3 categories:
   1. Hospital: $1192B
   2. Physician and clinical: $726B
   3. Drugs &amp; Supplies: $456B</code></pre>
</div>
</div>
<p><strong>Total U.S. health spending in 2018: $3,653 billion (18% of GDP)</strong></p>
<p><strong>Top 5 categories (ranked by spending):</strong></p>
<p><strong>1. Hospital care: $1,192 billion (32.6%)</strong></p>
<ul>
<li>By far the largest category</li>
<li>Inpatient care, emergency rooms, outpatient hospital services</li>
<li>Dominated by labor costs (nurses, doctors, staff) and overhead</li>
</ul>
<p><strong>2. Physician and clinical services: $726 billion (19.9%)</strong></p>
<ul>
<li>Doctor visits, outpatient clinics, medical specialists</li>
<li>Second-largest but still 39% less than hospitals</li>
<li>Growing due to aging population and chronic disease management</li>
</ul>
<p><strong>3. Drugs and supplies: $456 billion (12.5%)</strong></p>
<ul>
<li>Prescription drugs, over-the-counter medications, medical supplies</li>
<li>Controversial due to high U.S. drug prices vs.&nbsp;other countries</li>
<li>Rising rapidly due to specialty biologics and new therapies</li>
</ul>
<p><strong>4. Net cost of insurance: $259 billion (7.1%)</strong></p>
<ul>
<li>Administrative costs of private health insurance</li>
<li>Overhead, marketing, profit margins</li>
<li>Does not include government administration (separate category)</li>
</ul>
<p><strong>5. Other health and personal: $192 billion (5.3%)</strong></p>
<ul>
<li>Various services not classified elsewhere</li>
<li>Home health aides, personal care, etc.</li>
</ul>
<p><strong>Bottom categories:</strong></p>
<ul>
<li><strong>Government administration: $48 billion</strong> (Medicare, Medicaid overhead)</li>
<li><strong>Noncommercial research: $53 billion</strong> (NIH, university research)</li>
<li><strong>Government public health: $94 billion</strong> (CDC, state/local health departments)</li>
</ul>
<p><strong>Key insights:</strong></p>
<p><strong>1. Hospital dominance:</strong></p>
<ul>
<li>Hospitals alone account for nearly <strong>1/3 of all health spending</strong></li>
<li>More than physicians, drugs, and nursing care COMBINED</li>
<li>Reflects high fixed costs of hospital infrastructure</li>
</ul>
<p><strong>2. Concentration:</strong></p>
<ul>
<li>Top 3 categories (Hospital, Physician, Drugs) = <strong>65% of total</strong></li>
<li>Middle 50% of spending across just 3 categories</li>
<li>Long tail of smaller categories</li>
</ul>
<p><strong>3. Administrative costs:</strong></p>
<ul>
<li>Insurance administration ($259B) + Government admin ($48B) = <strong>$307B total</strong></li>
<li>That‚Äôs 8.4% of health spending just on paperwork and administration</li>
<li>For comparison: Administrative costs are ~2% in single-payer systems</li>
</ul>
<p><strong>4. Prevention vs.&nbsp;treatment:</strong></p>
<ul>
<li>Public health: $94B (2.6% of total)</li>
<li>Hospital care: $1,192B (32.6% of total)</li>
<li><strong>Ratio: 12.7√ó more on treatment than prevention</strong></li>
</ul>
<p><strong>Economic interpretation:</strong></p>
<p><strong>Why so expensive?</strong></p>
<ul>
<li><strong>Labor-intensive</strong>: Healthcare requires highly-trained, expensive workers</li>
<li><strong>Technology</strong>: Advanced equipment and facilities are costly</li>
<li><strong>Fragmentation</strong>: Multiple payers, complex billing increases administrative costs</li>
<li><strong>Aging population</strong>: Older Americans consume more healthcare</li>
<li><strong>Chronic diseases</strong>: Diabetes, heart disease, obesity drive spending</li>
</ul>
<p><strong>International comparison:</strong> U.S. spends ~18% of GDP on healthcare vs.&nbsp;9-12% in other developed countries, yet doesn‚Äôt have better health outcomes. Much debate centers on the efficiency of this spending.</p>
<p><strong>Statistical lesson:</strong> Bar charts are ideal for comparing categorical data‚Äîthey make it immediately obvious that hospital care dominates U.S. health spending.</p>
<blockquote class="blockquote">
<p><strong>Key Concept 2.4: Bar Charts for Categorical Data</strong></p>
<p>Bar charts and column charts effectively display categorical data by using bar length to represent values. This makes comparisons across categories immediate and intuitive, highlighting which categories dominate.</p>
</blockquote>
</section>
</section>
<section id="charts-for-categorical-data" class="level2">
<h2 class="anchored" data-anchor-id="charts-for-categorical-data">2.4 Charts for Categorical Data</h2>
<p><strong>Categorical data</strong> consist of observations that fall into discrete categories (e.g., fishing site choice: beach, pier, private boat, charter boat).</p>
<p><strong>How to summarize:</strong></p>
<ul>
<li><strong>Frequency table</strong>: Count observations in each category</li>
<li><strong>Relative frequency</strong>: Express as proportions or percentages</li>
</ul>
<p><strong>How to visualize:</strong></p>
<ul>
<li><strong>Pie chart</strong>: Slices represent proportion of total</li>
<li><strong>Bar chart</strong>: Bars represent frequency or proportion</li>
</ul>
<p><strong>Example:</strong> Fishing site chosen by 1,182 recreational fishers (4 possible sites).</p>
<div id="cell-36" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:41.000323Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:41.000097Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:41.062209Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:41.061722Z&quot;}}" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load fishing data</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>data_fishing <span class="op">=</span> pd.read_stata(GITHUB_DATA_URL <span class="op">+</span> <span class="st">'AED_FISHING.DTA'</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create frequency table</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>mode_freq <span class="op">=</span> data_fishing[<span class="st">'mode'</span>].value_counts()</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>mode_relfreq <span class="op">=</span> data_fishing[<span class="st">'mode'</span>].value_counts(normalize<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>mode_table <span class="op">=</span> pd.DataFrame({</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Frequency'</span>: mode_freq,</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Relative Frequency (%)'</span>: (mode_relfreq <span class="op">*</span> <span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Frequency Distribution of Fishing Mode"</span>)</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mode_table)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Total observations: </span><span class="sc">{</span><span class="bu">len</span>(data_fishing)<span class="sc">:,}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frequency Distribution of Fishing Mode
         Frequency  Relative Frequency (%)
mode                                      
charter        452                   38.24
private        418                   35.36
pier           178                   15.06
beach          134                   11.34

Total observations: 1,182</code></pre>
</div>
</div>
<section id="pie-chart" class="level3">
<h3 class="anchored" data-anchor-id="pie-chart">Pie Chart</h3>
<div id="cell-38" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:41.064977Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:41.064758Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:41.228975Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:41.228378Z&quot;}}" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create pie chart</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> plt.cm.Set3(<span class="bu">range</span>(<span class="bu">len</span>(mode_freq)))</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>wedges, texts, autotexts <span class="op">=</span> ax.pie(mode_freq.values,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                                    labels<span class="op">=</span>mode_freq.index,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>                                    autopct<span class="op">=</span><span class="st">'</span><span class="sc">%1.1f%%</span><span class="st">'</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>                                    colors<span class="op">=</span>colors,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>                                    startangle<span class="op">=</span><span class="dv">90</span>,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>                                    textprops<span class="op">=</span>{<span class="st">'fontsize'</span>: <span class="dv">11</span>})</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Distribution of Fishing Modes'</span>,</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>, pad<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">üìä Most popular fishing modes:"</span>)</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"   1. </span><span class="sc">{</span>mode_freq<span class="sc">.</span>index[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>mode_freq<span class="sc">.</span>values[<span class="dv">0</span>]<span class="sc">:,}</span><span class="ss"> (</span><span class="sc">{</span>mode_relfreq<span class="sc">.</span>values[<span class="dv">0</span>]<span class="op">*</span><span class="dv">100</span><span class="sc">:.1f}</span><span class="ss">%)"</span>)</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"   2. </span><span class="sc">{</span>mode_freq<span class="sc">.</span>index[<span class="dv">1</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>mode_freq<span class="sc">.</span>values[<span class="dv">1</span>]<span class="sc">:,}</span><span class="ss"> (</span><span class="sc">{</span>mode_relfreq<span class="sc">.</span>values[<span class="dv">1</span>]<span class="op">*</span><span class="dv">100</span><span class="sc">:.1f}</span><span class="ss">%)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-12-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
üìä Most popular fishing modes:
   1. charter: 452 (38.2%)
   2. private: 418 (35.4%)</code></pre>
</div>
</div>
<p><strong>Sample: 1,182 recreational fishers choosing among 4 fishing sites</strong></p>
<p><strong>Distribution of choices:</strong></p>
<p><strong>1. Charter boat: 452 fishers (38.2%)</strong></p>
<ul>
<li>Most popular choice</li>
<li>Guided fishing trip with captain and crew</li>
<li>Higher cost but convenience, equipment provided, and expert guidance</li>
</ul>
<p><strong>2. Private boat: 418 fishers (35.4%)</strong></p>
<ul>
<li>Second-most popular (nearly tied with charter)</li>
<li>Requires boat ownership or rental</li>
<li>More freedom and privacy, but higher upfront costs</li>
</ul>
<p><strong>3. Pier: 178 fishers (15.1%)</strong></p>
<ul>
<li>Third choice</li>
<li>Low-cost option (minimal equipment needed)</li>
<li>Accessible, but limited fishing locations</li>
</ul>
<p><strong>4. Beach: 134 fishers (11.3%)</strong></p>
<ul>
<li>Least popular</li>
<li>Lowest cost and most accessible</li>
<li>But more limited fishing success rates</li>
</ul>
<p><strong>Key patterns:</strong></p>
<p><strong>1. Boat fishing dominates:</strong></p>
<ul>
<li><strong>Charter + Private = 870 fishers (73.6%)</strong></li>
<li>Nearly 3/4 of fishers prefer boat-based fishing</li>
<li>Suggests willingness to pay premium for better fishing access</li>
</ul>
<p><strong>2. Shore fishing is minority:</strong></p>
<ul>
<li><strong>Pier + Beach = 312 fishers (26.4%)</strong></li>
<li>About 1/4 choose shore-based options</li>
<li>Likely cost-constrained or casual fishers</li>
</ul>
<p><strong>3. Charter vs.&nbsp;private nearly equal:</strong></p>
<ul>
<li>Charter: 452 (38.2%)</li>
<li>Private: 418 (35.4%)</li>
<li><strong>Difference: only 34 fishers (2.9%)</strong></li>
<li>Suggests these are close substitutes for many fishers</li>
</ul>
<p><strong>4. Large variation in popularity:</strong></p>
<ul>
<li>Most popular (Charter) is <strong>3.4√ó more popular</strong> than least popular (Beach)</li>
<li>Not evenly distributed across categories</li>
<li>Strong revealed preferences for certain modes</li>
</ul>
<p><strong>Economic interpretation:</strong></p>
<p><strong>Why do people choose different modes?</strong></p>
<p><strong>Charter boats chosen for:</strong></p>
<ul>
<li>No boat ownership required</li>
<li>Expert captain knows best spots</li>
<li>Social experience (fishing with others)</li>
<li>Equipment and bait provided</li>
</ul>
<p><strong>Private boats chosen for:</strong></p>
<ul>
<li>Flexibility in timing and location</li>
<li>Privacy and control</li>
<li>Cost-effective if you fish frequently</li>
<li>Pride of ownership</li>
</ul>
<p><strong>Pier/Beach chosen for:</strong></p>
<ul>
<li>Budget constraints</li>
<li>No transportation to boat launch</li>
<li>Casual, occasional fishing</li>
<li>Family-friendly accessibility</li>
</ul>
<p><strong>Revealed preference theory:</strong> The distribution reveals what fishers VALUE:</p>
<ul>
<li><strong>73.6% value boat access</strong> enough to pay for it</li>
<li><strong>38.2% value convenience</strong> of charter over ownership</li>
<li><strong>26.4% value low cost/accessibility</strong> over catch rates</li>
</ul>
<p><strong>Statistical lesson:</strong> For categorical data, frequency tables and pie charts reveal the distribution of choices. This is the foundation for discrete choice models (Chapter 15) that estimate why people make different choices.</p>
<blockquote class="blockquote">
<p><strong>Key Concept 2.5: Frequency Tables and Pie Charts</strong></p>
<p>Categorical data are summarized using frequency tables showing counts and percentages. Pie charts display proportions visually, with slice area corresponding to relative frequency. Bar charts are often preferred over pie charts for easier comparison of categories.</p>
</blockquote>
<p><strong>Transition:</strong> Visualization helps us <em>see</em> patterns, but sometimes the raw data obscures relationships. <em>Data transformations</em> (like logarithms and z-scores) can normalize skewed distributions, stabilize variance, and make statistical modeling more effective.</p>
<p><em>Having explored charts for both numerical and categorical data, let‚Äôs now examine how data transformations can reveal hidden patterns.</em></p>
</section>
</section>
<section id="data-transformation" class="level2">
<h2 class="anchored" data-anchor-id="data-transformation">2.5 Data Transformation</h2>
<p><strong>Data transformations</strong> can make patterns clearer or satisfy statistical assumptions.</p>
<p><strong>(a) Logarithmic transformation</strong> is especially useful for right-skewed economic data (prices, income, wealth): <span class="math display">\[\text{log of earnings} = \ln(\text{earnings})\]</span></p>
<p><strong>Why use logs?</strong></p>
<ul>
<li>Converts right-skewed data to a more symmetric distribution</li>
<li>Makes multiplicative relationships additive</li>
<li>Coefficients have percentage interpretation (see Chapter 9)</li>
<li>Reduces influence of extreme values</li>
</ul>
<p><strong>(b) Standardized scores (z-scores)</strong> are another common transformation: <span class="math display">\[z_i = \frac{x_i - \bar{x}}{s}\]</span></p>
<p>This centers data at 0 with standard deviation 1‚Äîuseful for comparing variables on different scales.</p>
<section id="log-transformation-effect" class="level3">
<h3 class="anchored" data-anchor-id="log-transformation-effect">Log Transformation Effect</h3>
<div id="cell-45" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:41.232498Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:41.232248Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:41.240900Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:41.240329Z&quot;}}" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create log transformation</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>data_earnings[<span class="st">'lnearnings'</span>] <span class="op">=</span> np.log(data_earnings[<span class="st">'earnings'</span>])</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Comparison of earnings and log(earnings):"</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_earnings[[<span class="st">'earnings'</span>, <span class="st">'lnearnings'</span>]].describe())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Comparison of earnings and log(earnings):
            earnings  lnearnings
count     171.000000  171.000000
mean    41412.690058   10.457638
std     25527.053396    0.622062
min      1050.000000    6.956545
25%     25000.000000   10.126631
50%     36000.000000   10.491274
75%     49000.000000   10.799367
max    172000.000000   12.055250</code></pre>
</div>
</div>
<div id="cell-46" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:41.243653Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:41.243412Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:41.772901Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:41.772327Z&quot;}}" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare original and log-transformed earnings</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">5</span>))</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: Original earnings</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].hist(data_earnings[<span class="st">'earnings'</span>], bins<span class="op">=</span><span class="dv">30</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>             edgecolor<span class="op">=</span><span class="st">'black'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, color<span class="op">=</span><span class="st">'steelblue'</span>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_xlabel(<span class="st">'Annual Earnings (in dollars)'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_ylabel(<span class="st">'Frequency'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_title(<span class="st">'Panel A: Earnings'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: Log earnings</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].hist(data_earnings[<span class="st">'lnearnings'</span>], bins<span class="op">=</span><span class="dv">30</span>,</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>             edgecolor<span class="op">=</span><span class="st">'black'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, color<span class="op">=</span><span class="st">'coral'</span>)</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_xlabel(<span class="st">'Log of Annual Earnings'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_ylabel(<span class="st">'Frequency'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_title(<span class="st">'Panel B: Log(Earnings)'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">'Log Transformation Effects'</span>,</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>, y<span class="op">=</span><span class="fl">1.02</span>)</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">üìä Effect of log transformation:"</span>)</span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Original earnings: Highly right-skewed"</span>)</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Log(earnings): Much more symmetric, closer to normal"</span>)</span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"   - Skewness reduced from </span><span class="sc">{</span>stats<span class="sc">.</span>skew(earnings)<span class="sc">:.2f}</span><span class="ss"> to </span><span class="sc">{</span>stats<span class="sc">.</span>skew(data_earnings[<span class="st">'lnearnings'</span>])<span class="sc">:.2f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
üìä Effect of log transformation:
   - Original earnings: Highly right-skewed
   - Log(earnings): Much more symmetric, closer to normal
   - Skewness reduced from 1.71 to -0.91</code></pre>
</div>
</div>
<p><strong>Panel A: Original Earnings (dollars)</strong></p>
<ul>
<li><strong>Shape</strong>: Strongly right-skewed</li>
<li><strong>Skewness</strong>: 1.71 (highly asymmetric)</li>
<li><strong>Mean</strong>: $41,412.69</li>
<li><strong>Median</strong>: $36,000.00</li>
<li><strong>Std Dev</strong>: $25,527.05 (62% of mean)</li>
<li><strong>Range</strong>: $1,050 to $172,000</li>
</ul>
<p><strong>Panel B: Log(Earnings) (natural logarithm)</strong></p>
<ul>
<li><strong>Shape</strong>: Much more symmetric, approximately normal</li>
<li><strong>Skewness</strong>: -0.91 (nearly symmetric, slight left skew)</li>
<li><strong>Mean</strong>: 10.46 (log dollars)</li>
<li><strong>Median</strong>: 10.49 (log dollars)</li>
<li><strong>Std Dev</strong>: 0.62 (only 6% of mean)</li>
<li><strong>Range</strong>: 6.96 to 12.06</li>
</ul>
<p><strong>What the transformation achieved:</strong></p>
<p><strong>1. Reduced skewness dramatically:</strong></p>
<ul>
<li>Original skewness: <strong>1.71</strong> ‚Üí Log skewness: <strong>-0.91</strong></li>
<li>Reduction of <strong>122%</strong> in absolute skewness</li>
<li>Now nearly symmetric (close to 0)</li>
</ul>
<p><strong>2. Normalized the distribution:</strong></p>
<ul>
<li>Original: Long right tail, NOT normal</li>
<li>Log: Bell-shaped, MUCH closer to normal distribution</li>
<li>This matters for statistical tests that assume normality</li>
</ul>
<p><strong>3. Equalized variance (stabilization):</strong></p>
<ul>
<li>Original std dev: 62% of mean (high coefficient of variation)</li>
<li>Log std dev: 6% of mean (much more stable)</li>
<li>High earners no longer dominate the variance</li>
</ul>
<p><strong>4. Brought mean and median closer:</strong></p>
<ul>
<li>Original: Mean - Median = $5,413 (15% gap)</li>
<li>Log: Mean - Median = -0.03 (0.3% gap)</li>
<li>Nearly identical in log scale</li>
</ul>
<p><strong>Why use log transformation for earnings?</strong></p>
<p><strong>Statistical reasons:</strong></p>
<ol type="1">
<li><strong>Normality</strong>: Many statistical tests (t-tests, ANOVA, regression) assume normal distribution</li>
<li><strong>Variance stabilization</strong>: Constant variance across income levels</li>
<li><strong>Linearity</strong>: Log models often fit better (log-linear relationships)</li>
<li><strong>Outlier reduction</strong>: Compresses extreme values</li>
</ol>
<p><strong>Economic reasons:</strong></p>
<ol type="1">
<li><strong>Multiplicative relationships</strong>: Income growth is often proportional (e.g., 10% raise)</li>
<li><strong>Percentage interpretation</strong>: A 1-unit increase in log(income) ‚âà 100% increase in income</li>
<li><strong>Economic theory</strong>: Utility functions often logarithmic (diminishing marginal utility)</li>
<li><strong>Cross-country comparisons</strong>: Log scale makes it easier to compare countries with vastly different GDP levels</li>
</ol>
<p><strong>How to interpret log(earnings) = 10.46?</strong></p>
<ul>
<li>Take exponential: e^10.46 = $34,762</li>
<li>This is close to the median earnings ($36,000)</li>
<li>Each 1-unit increase in log(earnings) ‚âà 2.718√ó increase in earnings</li>
</ul>
<p><strong>Example interpretation:</strong></p>
<ul>
<li>Log(earnings) = 10.0 ‚Üí Earnings = e^10.0 = $22,026</li>
<li>Log(earnings) = 11.0 ‚Üí Earnings = e^11.0 = $59,874</li>
<li><strong>Difference of 1 in log scale = 2.72√ó in dollar scale</strong></li>
</ul>
<p><strong>When NOT to use log transformation:</strong></p>
<ul>
<li>When data include zero or negative values (log undefined)</li>
<li>When you care about absolute differences (e.g., policy targeting specific dollar amounts)</li>
<li>When original scale is more interpretable for your audience</li>
</ul>
<p><strong>Statistical lesson:</strong> Log transformation is one of the most powerful tools in econometrics for dealing with skewed, multiplicative data like income, prices, GDP, and wealth.</p>
<blockquote class="blockquote">
<p><strong>Key Concept 2.6: Logarithmic Transformations</strong></p>
<p>Natural logarithm transformations convert right-skewed economic data (earnings, prices, wealth) to more symmetric distributions, facilitating analysis. Z-scores standardize data to have mean 0 and standard deviation 1, enabling comparison across different scales.</p>
</blockquote>
<p><strong>Transition:</strong> Time series data presents unique challenges‚Äîseasonal fluctuations, inflation, and population growth can mask underlying trends. Specialized transformations like moving averages and seasonal adjustment are essential for time-ordered economic data.</p>
</section>
</section>
<section id="data-transformations-for-time-series-data" class="level2">
<h2 class="anchored" data-anchor-id="data-transformations-for-time-series-data">2.6 Data Transformations for Time Series Data</h2>
<p>Time series data often require special transformations: 1. <strong>Moving averages</strong>: Smooth short-term fluctuations by averaging over several periods</p>
<ul>
<li>Example: 11-month moving average removes monthly noise</li>
</ul>
<ol start="2" type="1">
<li><strong>Seasonal adjustment</strong>: Remove predictable seasonal patterns
<ul>
<li>Example: Home sales peak in summer, drop in winter</li>
</ul></li>
<li><strong>Real vs.&nbsp;nominal adjustments</strong>: Adjust for inflation using price indices
<ul>
<li>Real values are in constant dollars (e.g., 2012 dollars)</li>
</ul></li>
<li><strong>Per capita adjustments</strong>: Divide by population to account for population growth</li>
</ol>
<p><strong>Example:</strong> Monthly U.S. home sales (2005-2015) showing original, moving average, and seasonally adjusted series.</p>
<div id="cell-51" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:41.776123Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:41.775890Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:41.839156Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:41.838500Z&quot;}}" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load monthly home sales data</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>data_homesales <span class="op">=</span> pd.read_stata(GITHUB_DATA_URL <span class="op">+</span> <span class="st">'AED_MONTHLYHOMESALES.DTA'</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter data for year &gt;= 2005</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>data_homesales_filtered <span class="op">=</span> data_homesales[data_homesales[<span class="st">'year'</span>] <span class="op">&gt;=</span> <span class="dv">2005</span>]</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Home sales data (2005 onwards):"</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_homesales_filtered[[<span class="st">'year'</span>, <span class="st">'exsales'</span>, <span class="st">'exsales_ma11'</span>, <span class="st">'exsales_sa'</span>]].describe())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Home sales data (2005 onwards):
              year        exsales   exsales_ma11     exsales_sa
count   121.000000     121.000000     116.000000     121.000000
mean   2009.545410  416851.239669  418300.125000  418071.625000
std       2.915476  111931.278110   81757.234375   83326.734375
min    2005.000000  218000.000000  324818.187500  287500.000000
25%    2007.000000  347000.000000  357613.625000  355833.343750
50%    2010.000000  401000.000000  394000.000000  401666.656250
75%    2012.000000  473000.000000  436727.281250  440833.343750
max    2015.000000  754000.000000  608545.437500  605000.000000</code></pre>
</div>
</div>
<section id="time-series-transformations-for-home-sales" class="level3">
<h3 class="anchored" data-anchor-id="time-series-transformations-for-home-sales">Time Series Transformations for Home Sales</h3>
<div id="cell-53" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:41.842181Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:41.841962Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:42.585811Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:42.585338Z&quot;}}" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create time series plots with transformations</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">10</span>))</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: Original and Moving Average</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].plot(data_homesales_filtered[<span class="st">'daten'</span>], data_homesales_filtered[<span class="st">'exsales'</span>],</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>            linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">'Original'</span>, color<span class="op">=</span><span class="st">'#22d3ee'</span>)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].plot(data_homesales_filtered[<span class="st">'daten'</span>], data_homesales_filtered[<span class="st">'exsales_ma11'</span>],</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>            linewidth<span class="op">=</span><span class="dv">2</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, label<span class="op">=</span><span class="st">'11-month Moving Average'</span>, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_xlabel(<span class="st">'Year'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_ylabel(<span class="st">'Monthly Home Sales'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_title(<span class="st">'Panel A: Original Series and Moving Average'</span>,</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>                  fontsize<span class="op">=</span><span class="dv">12</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].legend()</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: Original and Seasonally Adjusted</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].plot(data_homesales_filtered[<span class="st">'daten'</span>], data_homesales_filtered[<span class="st">'exsales'</span>],</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>            linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">'Original'</span>, color<span class="op">=</span><span class="st">'#22d3ee'</span>)</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].plot(data_homesales_filtered[<span class="st">'daten'</span>], data_homesales_filtered[<span class="st">'exsales_sa'</span>],</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>            linewidth<span class="op">=</span><span class="dv">2</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, label<span class="op">=</span><span class="st">'Seasonally Adjusted'</span>, color<span class="op">=</span><span class="st">'green'</span>)</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_xlabel(<span class="st">'Year'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_ylabel(<span class="st">'Monthly Home Sales'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_title(<span class="st">'Panel B: Original Series and Seasonally Adjusted'</span>,</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>                  fontsize<span class="op">=</span><span class="dv">12</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].legend()</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">'Time Series Transformations for Home Sales'</span>,</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>, y<span class="op">=</span><span class="fl">0.995</span>)</span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">üìä Observations:"</span>)</span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Original series: Jagged with seasonal peaks (summer) and troughs (winter)"</span>)</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Moving average: Smooth curve shows underlying trend (housing crash 2007-2011)"</span>)</span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Seasonally adjusted: Removes seasonal pattern, reveals trend and cycles"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-16-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
üìä Observations:
   - Original series: Jagged with seasonal peaks (summer) and troughs (winter)
   - Moving average: Smooth curve shows underlying trend (housing crash 2007-2011)
   - Seasonally adjusted: Removes seasonal pattern, reveals trend and cycles</code></pre>
</div>
</div>
<p><strong>Data: Monthly U.S. existing home sales (2005-2015)</strong></p>
<p><strong>Three series compared:</strong></p>
<ol type="1">
<li><strong>Original series</strong> (blue solid line)</li>
<li><strong>11-month moving average</strong> (red dashed line, Panel A)</li>
<li><strong>Seasonally adjusted</strong> (green dashed line, Panel B)</li>
</ol>
<p><strong>Panel A: Original vs.&nbsp;Moving Average</strong></p>
<p><strong>What the original series shows:</strong></p>
<ul>
<li><strong>High volatility</strong>: Sharp month-to-month fluctuations</li>
<li><strong>Seasonal peaks</strong>: Regular spikes (summer buying season)</li>
<li><strong>Seasonal troughs</strong>: Regular dips (winter slowdown)</li>
<li><strong>Trend</strong>: Underlying long-term pattern (housing crash 2007-2011)</li>
<li><strong>Range</strong>: 218,000 to 754,000 homes per month</li>
</ul>
<p><strong>What the 11-month moving average reveals:</strong></p>
<p><strong>1. Smooths out noise:</strong></p>
<ul>
<li>Eliminates month-to-month volatility</li>
<li>Shows the underlying trend clearly</li>
<li>Each point = average of surrounding 11 months</li>
</ul>
<p><strong>2. Housing market cycle becomes visible:</strong></p>
<ul>
<li><strong>2005-2006</strong>: Peak (~600,000 homes/month)</li>
<li><strong>2007-2008</strong>: SHARP DECLINE (housing crash begins)</li>
<li><strong>2008-2011</strong>: Bottom (~325,000 homes/month)
<ul>
<li>Lost nearly 50% of sales volume</li>
<li>Took 5+ years to reach bottom</li>
</ul></li>
<li><strong>2011-2015</strong>: Gradual recovery
<ul>
<li>Sales climbing back toward ~450,000/month</li>
<li>Still well below pre-crash peak</li>
</ul></li>
</ul>
<p><strong>3. Trend is NOT linear:</strong></p>
<ul>
<li>Not a straight line up or down</li>
<li>Shows boom-bust-recovery cycle</li>
<li>Moving average captures this nonlinear pattern</li>
</ul>
<p><strong>Panel B: Original vs.&nbsp;Seasonally Adjusted</strong></p>
<p><strong>What seasonal adjustment does:</strong></p>
<ul>
<li><strong>Removes predictable seasonal patterns</strong></li>
<li>Answers: ‚ÄúWhat would sales be without seasonal effects?‚Äù</li>
<li>Allows you to see whether changes are ‚Äúreal‚Äù or just seasonal</li>
</ul>
<p><strong>Key differences between seasonally adjusted and original:</strong></p>
<p><strong>1. Amplitude reduction:</strong></p>
<ul>
<li>Original: Wild swings from 218k to 754k</li>
<li>Seasonally adjusted: Smoother, swings from 288k to 605k</li>
<li><strong>Seasonal component accounts for ~30-40% of monthly variation</strong></li>
</ul>
<p><strong>2. Pattern changes:</strong></p>
<ul>
<li>Original: Regular summer peaks (May-July) and winter troughs (Jan-Feb)</li>
<li>Seasonally adjusted: These regular peaks/troughs removed</li>
<li><strong>Remaining variation = true economic changes + random noise</strong></li>
</ul>
<p><strong>3. Trend clarity:</strong></p>
<ul>
<li>Original: Hard to tell if uptick is recovery or just seasonal</li>
<li>Seasonally adjusted: Clearer signal of true economic trend</li>
<li><strong>Fed and policymakers watch seasonally adjusted data</strong></li>
</ul>
<p><strong>Comparison of transformation methods:</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 33%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>Moving Average</th>
<th>Seasonal Adjustment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Removes</strong></td>
<td>High-frequency noise</td>
<td>Predictable seasonal patterns</td>
</tr>
<tr class="even">
<td><strong>Preserves</strong></td>
<td>Trend and cycles</td>
<td>Trend, cycles, and irregular movements</td>
</tr>
<tr class="odd">
<td><strong>Lags</strong></td>
<td>Yes (centered average)</td>
<td>No (real-time adjustment)</td>
</tr>
<tr class="even">
<td><strong>Use case</strong></td>
<td>Visualizing long-term trends</td>
<td>Policy decisions and forecasting</td>
</tr>
</tbody>
</table>
<p><strong>Economic interpretation:</strong></p>
<p><strong>Why does housing have strong seasonality?</strong></p>
<ol type="1">
<li><strong>Weather</strong>: Hard to move in winter (northern states)</li>
<li><strong>School calendar</strong>: Families move in summer to avoid disrupting school year</li>
<li><strong>Tax refunds</strong>: Spring refunds provide down payment money</li>
<li><strong>Daylight</strong>: More daylight hours for house hunting in summer</li>
</ol>
<p><strong>Why did the housing market crash?</strong></p>
<ul>
<li><strong>2005-2006</strong>: Subprime mortgage boom (easy credit)</li>
<li><strong>2007</strong>: Mortgage defaults begin, housing prices fall</li>
<li><strong>2008</strong>: Financial crisis (Lehman Brothers bankruptcy)</li>
<li><strong>2008-2009</strong>: Credit crunch, massive foreclosures</li>
<li><strong>2009-2011</strong>: Deleveraging, excess inventory</li>
</ul>
<p><strong>Why the slow recovery?</strong></p>
<ul>
<li><strong>Underwater mortgages</strong>: Many homeowners owed more than home value</li>
<li><strong>Tighter credit</strong>: Banks required higher down payments, better credit scores</li>
<li><strong>Job losses</strong>: 2008-2009 recession reduced demand</li>
<li><strong>Psychological</strong>: Homebuyers became risk-averse after crash</li>
</ul>
<p><strong>Statistical lessons:</strong></p>
<p><strong>1. Moving averages:</strong></p>
<ul>
<li>Smooth time series to reveal trends</li>
<li>Width matters: 11-month average removes seasonal + noise</li>
<li>Trade-off: Smoothness vs.&nbsp;lag (delayed signal)</li>
</ul>
<p><strong>2. Seasonal adjustment:</strong></p>
<ul>
<li>Essential for economic data with strong seasonal patterns</li>
<li>Allows comparison across months/quarters</li>
<li>Standard practice: Always report seasonally adjusted for policy</li>
</ul>
<p><strong>3. Which to use?</strong></p>
<ul>
<li><strong>Moving average</strong>: Historical analysis, visualization</li>
<li><strong>Seasonal adjustment</strong>: Real-time monitoring, forecasting, policy</li>
<li><strong>Both together</strong>: Comprehensive understanding of time series dynamics</li>
</ul>
<p><strong>Practical implication:</strong> When the news reports ‚ÄúHome sales up 5% this month,‚Äù ALWAYS check if it‚Äôs seasonally adjusted. Raw data might just show normal summer increase!</p>
<blockquote class="blockquote">
<p><strong>Key Concept 2.7: Time Series Transformations</strong></p>
<p>Time series data often requires transformations: moving averages smooth short-term fluctuations, seasonal adjustment removes recurring patterns, real values adjust for inflation, per capita values adjust for population, and growth rates measure proportionate changes. These transformations reveal underlying trends and enable meaningful comparisons.</p>
</blockquote>
</section>
<section id="gdp-comparisons---nominal-vs-real" class="level3">
<h3 class="anchored" data-anchor-id="gdp-comparisons---nominal-vs-real">GDP Comparisons - Nominal vs Real</h3>
<div id="cell-57" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:42.590919Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:42.590656Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:43.374510Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:43.373978Z&quot;}}" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare nominal and real GDP</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">16</span>, <span class="dv">6</span>))</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: GDP and Real GDP</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].plot(data_gdp[<span class="st">'daten'</span>], data_gdp[<span class="st">'gdp'</span>],</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>            linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">'GDP (nominal)'</span>, color<span class="op">=</span><span class="st">'#22d3ee'</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].plot(data_gdp[<span class="st">'daten'</span>], data_gdp[<span class="st">'realgdp'</span>],</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>            linewidth<span class="op">=</span><span class="dv">2</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, label<span class="op">=</span><span class="st">'Real GDP (2012 dollars)'</span>, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_xlabel(<span class="st">'Year'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_ylabel(<span class="st">'GDP (in $ billions)'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_title(<span class="st">'Panel A: GDP and Real GDP'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].legend()</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: GDP per capita and Real GDP per capita</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].plot(data_gdp[<span class="st">'daten'</span>], data_gdp[<span class="st">'gdppc'</span>],</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>            linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">'GDP per capita (nominal)'</span>, color<span class="op">=</span><span class="st">'#22d3ee'</span>)</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].plot(data_gdp[<span class="st">'daten'</span>], data_gdp[<span class="st">'realgdppc'</span>],</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>            linewidth<span class="op">=</span><span class="dv">2</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, label<span class="op">=</span><span class="st">'Real GDP per capita (2012 dollars)'</span>, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_xlabel(<span class="st">'Year'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_ylabel(<span class="st">'GDP per capita (in dollars)'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_title(<span class="st">'Panel B: GDP per Capita and Real GDP per Capita'</span>,</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>                  fontsize<span class="op">=</span><span class="dv">12</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].legend()</span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">'GDP Comparisons - Nominal vs Real'</span>,</span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>, y<span class="op">=</span><span class="fl">1.0</span>)</span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">üìä Why adjust for inflation and population?"</span>)</span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Nominal GDP: Inflated by price increases (not just real growth)"</span>)</span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Real GDP: Removes inflation, shows true output growth"</span>)</span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"   - Per capita: Accounts for population growth, measures individual prosperity"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-17-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
üìä Why adjust for inflation and population?
   - Nominal GDP: Inflated by price increases (not just real growth)
   - Real GDP: Removes inflation, shows true output growth
   - Per capita: Accounts for population growth, measures individual prosperity</code></pre>
</div>
</div>
</section>
</section>
<section id="key-takeaways" class="level2">
<h2 class="anchored" data-anchor-id="key-takeaways">Key Takeaways</h2>
<p><strong>Summary Statistics and Data Distributions:</strong></p>
<ul>
<li>Summary statistics (mean, median, standard deviation, quartiles, skewness, kurtosis) efficiently describe large datasets by quantifying central tendency and dispersion</li>
<li>The mean is sensitive to outliers; the median is robust and preferred for skewed distributions</li>
<li>Standard deviation measures typical distance from the mean; for normal distributions, ~68% of data falls within 1 standard deviation, ~95% within 2</li>
<li>Skewness measures asymmetry (positive for right-skewed data common in economics like earnings and wealth); guideline: |skewness| &gt; 1 indicates strong skewness</li>
<li>Kurtosis measures tail heaviness; excess kurtosis &gt; 0 indicates fatter tails than the normal distribution</li>
<li>Box plots visually summarize key statistics: median, quartiles, and potential outliers</li>
</ul>
<p><strong>Visualizations for Different Data Types:</strong></p>
<ul>
<li>Histograms display distributions of numerical data using bins; bin width affects detail level (smaller bins show more detail but may be noisier)</li>
<li>Kernel density estimates provide smooth approximations of underlying continuous distributions without arbitrary bin choices</li>
<li>Line charts are ideal for time series data to reveal trends, cycles, and structural breaks over time</li>
<li>Bar charts and column charts effectively display categorical data, with bar length representing values for easy comparison</li>
<li>Pie charts show proportions for categorical data, though bar charts often facilitate easier comparison across categories</li>
<li>Choosing the right visualization depends on data type (numerical vs.&nbsp;categorical), dimensionality (univariate vs.&nbsp;categorical breakdown), and whether data are time-ordered</li>
</ul>
<p><strong>Data Transformations and Their Applications:</strong></p>
<ul>
<li>Natural logarithm transformations convert right-skewed economic data (earnings, prices, wealth) to more symmetric distributions, facilitating statistical analysis</li>
<li>Z-scores standardize data to mean 0 and standard deviation 1, enabling comparison across different scales and identifying outliers</li>
<li>Moving averages smooth short-term fluctuations in time series data by averaging over several periods (e.g., 11-month MA removes seasonality)</li>
<li>Seasonal adjustment removes recurring patterns to reveal underlying trends; essential for comparing economic indicators across months/quarters</li>
<li>Real values adjust for price inflation using deflators; per capita values adjust for population size‚Äîboth are crucial for meaningful comparisons over time</li>
<li>Growth rates measure proportionate changes; distinguish between percentage point changes and percentage changes to avoid confusion</li>
<li>For time series, the change in natural log approximates the proportionate change (useful property: Œîln(x) ‚âà Œîx/x for small changes)</li>
</ul>
<p><strong>Python Tools and Methods:</strong></p>
<ul>
<li><code>pandas</code> provides <code>.describe()</code>, <code>.mean()</code>, <code>.median()</code>, <code>.std()</code>, <code>.quantile()</code> for summary statistics</li>
<li><code>scipy.stats</code> provides <code>skew()</code> and <code>kurtosis()</code> for distribution shape measures (note: <code>kurtosis()</code> returns excess kurtosis by default)</li>
<li><code>matplotlib</code> and <code>seaborn</code> enable professional visualizations (histograms, KDE, line charts, box plots, bar charts)</li>
<li><code>numpy.log()</code> applies natural logarithm transformation; z-scores computed as <code>(x - x.mean()) / x.std()</code></li>
<li>Moving averages can be computed with <code>pandas.rolling().mean()</code>; seasonal adjustment typically requires specialized packages like <code>statsmodels</code></li>
</ul>
<hr>
<p><strong>Next Steps:</strong></p>
<ul>
<li><strong>Chapter 3</strong>: Statistical inference and confidence intervals for the mean</li>
<li><strong>Chapter 5</strong>: Bivariate data summary and correlation analysis</li>
<li><strong>Chapter 6-9</strong>: Simple linear regression and interpretation</li>
</ul>
<p><strong>You have now mastered:</strong> Calculating and interpreting summary statistics Creating effective visualizations for different data types Applying transformations to reveal patterns and normalize distributions Handling time series data with moving averages and seasonal adjustment</p>
<p>These foundational skills prepare you for inferential statistics and regression analysis in the following chapters!</p>
</section>
<section id="practice-exercises" class="level2">
<h2 class="anchored" data-anchor-id="practice-exercises">Practice Exercises</h2>
<p>Test your understanding of univariate data analysis with these exercises: <strong>Exercise 1:</strong> Calculate summary statistics</p>
<ul>
<li>For the sample {5, 2, 2, 8, 3}, calculate: - (a) Mean
<ul>
<li><ol start="2" type="a">
<li>Median</li>
</ol></li>
<li><ol start="3" type="a">
<li>Variance</li>
</ol></li>
<li><ol start="4" type="a">
<li>Standard deviation</li>
</ol></li>
</ul></li>
</ul>
<p><strong>Exercise 2:</strong> Interpret skewness</p>
<ul>
<li>A dataset has skewness = -0.85. What does this tell you about the distribution?</li>
<li>Would you expect the mean to be greater than or less than the median? Why?</li>
</ul>
<p><strong>Exercise 3:</strong> Choose visualization types</p>
<ul>
<li>For each scenario, recommend the best chart type and explain why: - (a) Quarterly GDP growth rates from 2000 to 2025
<ul>
<li><ol start="2" type="a">
<li>Market share of 5 smartphone brands</li>
</ol></li>
<li><ol start="3" type="a">
<li>Distribution of household incomes in a city</li>
</ol></li>
<li><ol start="4" type="a">
<li>Monthly temperature readings over a year</li>
</ol></li>
</ul></li>
</ul>
<p><strong>Exercise 4:</strong> Log transformation</p>
<ul>
<li>Why is log transformation particularly useful for economic variables like income and GDP?</li>
<li>If log(earnings) increases by 0.5, approximately what percentage increase does this represent in earnings?</li>
</ul>
<p><strong>Exercise 5:</strong> Standard deviation interpretation</p>
<ul>
<li>A dataset has mean = 50 and standard deviation = 10. If the data are approximately normally distributed: - (a) What percentage of observations fall between 40 and 60?
<ul>
<li><ol start="2" type="a">
<li>What percentage fall between 30 and 70?</li>
</ol></li>
</ul></li>
</ul>
<p><strong>Exercise 6:</strong> Time series transformations</p>
<ul>
<li>Explain the difference between: - (a) Moving average vs.&nbsp;seasonal adjustment
<ul>
<li><ol start="2" type="a">
<li>Nominal GDP vs.&nbsp;Real GDP</li>
</ol></li>
<li><ol start="3" type="a">
<li>Total GDP vs.&nbsp;GDP per capita</li>
</ol></li>
</ul></li>
</ul>
<p><strong>Exercise 7:</strong> Z-scores</p>
<ul>
<li>For a sample with mean = 100 and standard deviation = 15: - (a) Calculate the z-score for an observation of 130
<ul>
<li><ol start="2" type="a">
<li>Interpret what this z-score means</li>
</ol></li>
</ul></li>
</ul>
<p><strong>Exercise 8:</strong> Data interpretation</p>
<ul>
<li>A box plot shows: - Lower quartile (Q1) = 25
<ul>
<li>Median (Q2) = 35</li>
<li>Upper quartile (Q3) = 60</li>
</ul></li>
<li>Calculate: - (a) Interquartile range (IQR)
<ul>
<li><ol start="2" type="a">
<li>Describe the skewness based on quartile positions</li>
</ol></li>
</ul></li>
</ul>
<hr>
</section>
<section id="case-studies" class="level2">
<h2 class="anchored" data-anchor-id="case-studies">Case Studies</h2>
<section id="case-study-1-global-labor-productivity-distribution" class="level3">
<h3 class="anchored" data-anchor-id="case-study-1-global-labor-productivity-distribution">Case Study 1: Global Labor Productivity Distribution</h3>
<p><strong>Research Question:</strong> How is labor productivity distributed across countries? Are there distinct groups or is it continuous?</p>
<p>In Chapter 1, you examined <em>relationships between variables</em>‚Äîspecifically, how productivity relates to capital stock through regression analysis. Now we shift perspective to analyze a <em>single variable</em>‚Äîlabor productivity‚Äîbut focus on its <strong>distribution across countries</strong> rather than its associations.</p>
<p>This case study builds on Chapter 1‚Äôs dataset (Convergence Clubs) but asks fundamentally different questions: What does the distribution of productivity look like across the 108 countries in our sample? Is it symmetric or skewed? Have productivity gaps widened or narrowed over time? These distributional questions are central to development economics and understanding global inequality.</p>
<p>By completing this case study, you‚Äôll apply all the univariate analysis tools from Chapter 2 to a real dataset with genuine economic relevance‚Äîexploring whether productivity converges globally or if divergence persists.</p>
<blockquote class="blockquote">
<p><strong>Key Concept 2.8: Cross-Country Distributions</strong></p>
<p>Cross-country distributions of economic variables (productivity, GDP per capita, income) are typically right-skewed with long upper tails, reflecting substantial inequality between rich and poor countries. Summary statistics like the median are often more representative than the mean for these distributions, and exploring the shape of the distribution reveals whether gaps between countries are widening or narrowing.</p>
</blockquote>
</section>
<section id="load-the-productivity-data" class="level3">
<h3 class="anchored" data-anchor-id="load-the-productivity-data">Load the Productivity Data</h3>
<p>We‚Äôll use the same Convergence Clubs dataset from Chapter 1, but focus exclusively on the labor productivity variable (<code>lp</code>) across countries and years. This gives us 2,700 observations (108 countries √ó 25 years, from 1990 to 2014) of international productivity.</p>
<div id="cell-64" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:43.378366Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:43.378122Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:43.506238Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:43.505721Z&quot;}}" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load convergence clubs data (same as Chapter 1)</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.read_csv(</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://raw.githubusercontent.com/quarcs-lab/mendez2020-convergence-clubs-code-data/master/assets/dat.csv"</span>,</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    index_col<span class="op">=</span>[<span class="st">"country"</span>, <span class="st">"year"</span>]</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>).sort_index()</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># For Chapter 2, focus on labor productivity variable</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>productivity <span class="op">=</span> df1[<span class="st">'lp'</span>]</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"LABOR PRODUCTIVITY DISTRIBUTION ANALYSIS"</span>)</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Total observations: </span><span class="sc">{</span><span class="bu">len</span>(productivity)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Countries: </span><span class="sc">{</span><span class="bu">len</span>(df1.index.get_level_values(<span class="st">'country'</span>).unique())<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Time period: </span><span class="sc">{</span>df1<span class="sc">.</span>index<span class="sc">.</span>get_level_values(<span class="st">'year'</span>)<span class="sc">.</span><span class="bu">min</span>()<span class="sc">}</span><span class="ss"> to </span><span class="sc">{</span>df1<span class="sc">.</span>index<span class="sc">.</span>get_level_values(<span class="st">'year'</span>)<span class="sc">.</span><span class="bu">max</span>()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">First 10 observations (sample):"</span>)</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df1[[<span class="st">'lp'</span>]].head(<span class="dv">10</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>======================================================================
LABOR PRODUCTIVITY DISTRIBUTION ANALYSIS
======================================================================
Total observations: 2700
Countries: 108
Time period: 1990 to 2014

First 10 observations (sample):
                      lp
country year            
Albania 1990   9959.2344
        1991   9093.6943
        1992  10188.3060
        1993  12432.5870
        1994  13007.0080
        1995  14813.8990
        1996  18248.9860
        1997  15008.6750
        1998  15001.0220
        1999  17351.6020</code></pre>
</div>
</div>
</section>
<section id="how-to-use-these-tasks" class="level3">
<h3 class="anchored" data-anchor-id="how-to-use-these-tasks">How to Use These Tasks</h3>
<p><strong>Instructions:</strong></p>
<ol type="1">
<li><strong>Read the task objectives and instructions</strong> in each section below</li>
<li><strong>Review the example code structure</strong> provided</li>
<li><strong>Create a NEW code cell</strong> to write your solution</li>
<li><strong>Follow the structure and fill in the blanks</strong> or write complete code</li>
<li><strong>Run and test your code</strong></li>
<li><strong>Answer the interpretation questions</strong></li>
</ol>
<p><strong>Progressive difficulty:</strong></p>
<ul>
<li><strong>Tasks 1-2:</strong> Guided (fill in specific blanks with <code>_____</code>)</li>
<li><strong>Task 3:</strong> Semi-guided (complete partial code structure)</li>
<li><strong>Tasks 4-6:</strong> Independent (write full code from outline)</li>
</ul>
<p><strong>Tip:</strong> Type the code yourself rather than copying‚Äîit builds understanding!</p>
<section id="task-1-data-exploration-guided" class="level4">
<h4 class="anchored" data-anchor-id="task-1-data-exploration-guided">Task 1: Data Exploration (Guided)</h4>
<p><strong>Objective:</strong> Load and explore the structure of the global productivity distribution.</p>
<p><strong>Instructions:</strong></p>
<ol type="1">
<li>Examine the productivity variable‚Äôs basic structure (length, data type, any missing values)</li>
<li>Get summary statistics (count, mean, std, min, max)</li>
<li>Display observations for 5 different countries to see variation across countries</li>
<li>Check: Is there variation across countries? Does it seem large or small?</li>
</ol>
<p><strong>Chapter 2 connection:</strong> This applies the concepts from Section 2.1 (Summary Statistics).</p>
<p><strong>Starter code guidance:</strong></p>
<ul>
<li>Use <code>productivity.describe()</code> for summary statistics</li>
<li>Check for missing values with <code>productivity.isnull().sum()</code></li>
<li>Use <code>.loc[]</code> or <code>.xs()</code> to select specific countries‚Äô observations</li>
<li>Calculate min and max productivity values globally</li>
</ul>
<p><strong>Example code structure:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 1: Data Exploration (GUIDED)</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Complete the code below by filling in the blanks (_____)</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Check data structure</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data Structure:"</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Total observations: </span><span class="sc">{</span>_____<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Data type: </span><span class="sc">{</span>productivity<span class="sc">.</span>dtype<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Missing values: </span><span class="sc">{</span>_____<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Summary statistics</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Summary Statistics for Global Productivity"</span>)</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(productivity.describe())</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Variation across countries - look at a few countries</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Productivity across 5 sample countries:"</span>)</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>sample_countries <span class="op">=</span> [<span class="st">'Australia'</span>, <span class="st">'Brazil'</span>, <span class="st">'China'</span>, <span class="st">'France'</span>, <span class="st">'Nigeria'</span>]</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> country <span class="kw">in</span> sample_countries: country_data <span class="op">=</span> df1.loc[country, <span class="st">'lp'</span>]</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span>country<span class="sc">}</span><span class="ss">:"</span>)</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"  Mean productivity: </span><span class="sc">{</span>_____<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"  Min: </span><span class="sc">{</span>_____<span class="sc">:.3f}</span><span class="ss">, Max: </span><span class="sc">{</span>_____<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"  Range: </span><span class="sc">{</span>_____<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4: Global variation</span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Global Variation:"</span>)</span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>min_prod <span class="op">=</span> productivity.<span class="bu">min</span>()</span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>max_prod <span class="op">=</span> productivity.<span class="bu">max</span>()</span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>ratio <span class="op">=</span> max_prod <span class="op">/</span> min_prod</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Minimum global productivity: </span><span class="sc">{</span>min_prod<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Maximum global productivity: </span><span class="sc">{</span>max_prod<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Ratio (max/min): </span><span class="sc">{</span>ratio<span class="sc">:.1f}</span><span class="ss">x"</span>)</span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Interpretation: The most productive country is </span><span class="sc">{</span>ratio<span class="sc">:.0f}</span><span class="ss">√ó more productive than the least productive country!"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="task-2-summary-statistics-semi-guided" class="level4">
<h4 class="anchored" data-anchor-id="task-2-summary-statistics-semi-guided">Task 2: Summary Statistics (Semi-guided)</h4>
<p><strong>Objective:</strong> Calculate comprehensive summary statistics for the global productivity distribution.</p>
<p><strong>Instructions:</strong></p>
<ol type="1">
<li>Compute mean, median, standard deviation, quartiles (25th, 50th, 75th percentiles)</li>
<li>Calculate skewness and kurtosis for the overall productivity distribution</li>
<li>Identify which countries have the highest and lowest productivity (across all years)</li>
<li>Compare productivity statistics for two time periods: 1990 and 2014</li>
</ol>
<p><strong>Chapter 2 connection:</strong> Applies Section 2.1 (Summary Statistics) and distribution shape measures.</p>
<p><strong>Starter code guidance:</strong></p>
<ul>
<li>Use <code>.describe()</code> for the main statistics</li>
<li>Use <code>scipy.stats.skew()</code> and <code>scipy.stats.kurtosis()</code> for shape measures</li>
<li>Filter by year: <code>df1.xs(1990, level='year')['lp']</code></li>
<li>Use <code>.nlargest()</code> and <code>.nsmallest()</code> to find extreme values</li>
<li>Create a comparison table of statistics for different time periods</li>
</ul>
<p><strong>Example code structure:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 2: Summary Statistics (SEMI-GUIDED)</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Complete the code by implementing each step</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Overall summary statistics</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>overall_stats <span class="op">=</span> {</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Mean'</span>: productivity.mean(),</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Median'</span>: _____,  <span class="co"># Calculate median</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Std Dev'</span>: _____,  <span class="co"># Calculate standard deviation</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Skewness'</span>: stats.skew(_____),</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Kurtosis'</span>: _____,  <span class="co"># Calculate kurtosis</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'25th percentile'</span>: productivity.quantile(<span class="fl">0.25</span>),</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'75th percentile'</span>: productivity.quantile(_____),</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'IQR'</span>: productivity.quantile(<span class="fl">0.75</span>) <span class="op">-</span> productivity.quantile(<span class="fl">0.25</span>)</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key, value <span class="kw">in</span> overall_stats.items(): <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>key<span class="sc">:20s}</span><span class="ss">: </span><span class="sc">{</span>value<span class="sc">:.4f}</span><span class="ss">"</span>)</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Countries with highest/lowest productivity</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Top 5 Most Productive Countries (average across years)"</span>)</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>country_means <span class="op">=</span> df1.groupby(_____)[<span class="st">'lp'</span>].mean().sort_values(_____)</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(country_means.head())</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Top 5 Least Productive Countries (average across years)"</span>)</span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(country_means.tail())</span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Compare 1990 vs 2014</span></span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>productivity_1990 <span class="op">=</span> df1.xs(<span class="dv">1990</span>, level<span class="op">=</span>_____)[<span class="st">'lp'</span>]</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>productivity_2014 <span class="op">=</span> df1.xs(_____, level<span class="op">=</span><span class="st">'year'</span>)[<span class="st">'lp'</span>]</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Create a comparison DataFrame</span></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Hint: Use pd. DataFrame() with statistics for both years</span></span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Include: mean, median, std, skewness, min, max</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Hints:</strong></p>
<ul>
<li>Use <code>.median()</code>, <code>.std()</code> for missing statistics</li>
<li><code>stats.kurtosis()</code> requires the data series as input</li>
<li><code>.groupby('country')</code> groups by country name</li>
<li><code>.sort_values(ascending=False)</code> sorts from high to low</li>
<li><code>.xs(year, level='year')</code> extracts data for a specific year</li>
</ul>
</section>
<section id="task-3-visualizing-distributions-semi-guided" class="level4">
<h4 class="anchored" data-anchor-id="task-3-visualizing-distributions-semi-guided">Task 3: Visualizing Distributions (Semi-guided)</h4>
<p><strong>Objective:</strong> Create multiple visualizations to understand the shape of the productivity distribution.</p>
<p><strong>Instructions:</strong></p>
<ol type="1">
<li>Create a histogram of productivity (try different bin widths)</li>
<li>Create a box plot to identify outliers and quartiles</li>
<li>Create a kernel density estimate to see the smooth shape</li>
<li>Compare the original distribution to the log-transformed distribution</li>
</ol>
<p><strong>Chapter 2 connection:</strong> Applies Section 2.2 (Charts for Numerical Data).</p>
<p><strong>Starter code guidance:</strong></p>
<ul>
<li>Use <code>plt.hist()</code> for histogram with different bin widths (try 10, 15, 20 bins)</li>
<li>Use <code>plt.boxplot()</code> for box plot visualization</li>
<li>Use <code>.plot.kde()</code> for kernel density estimate</li>
<li>Create side-by-side panels to compare original vs log-transformed</li>
<li>Label axes clearly and add titles</li>
</ul>
<p><strong>Example code structure:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 3: Visualizing Distributions (SEMI-GUIDED)</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create comprehensive visualizations of the productivity distribution</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a 2x2 figure with 4 subplots</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(_____, _____, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">10</span>))</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel 1: Histogram (original productivity)</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>, <span class="dv">0</span>].hist(productivity, bins<span class="op">=</span>_____, edgecolor<span class="op">=</span><span class="st">'black'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, color<span class="op">=</span><span class="st">'steelblue'</span>)</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>, <span class="dv">0</span>].set_xlabel(_____, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>, <span class="dv">0</span>].set_ylabel(_____, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>, <span class="dv">0</span>].set_title(<span class="st">'Panel 1: Histogram of Productivity (20 bins)'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>, <span class="dv">0</span>].grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel 2: Box plot (original productivity)</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>, <span class="dv">1</span>].boxplot(_____, vert<span class="op">=</span><span class="va">True</span>, patch_artist<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>, <span class="dv">1</span>].set_ylabel(<span class="st">'Labor Productivity'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>, <span class="dv">1</span>].set_title(<span class="st">'Panel 2: Box Plot of Productivity'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>, <span class="dv">1</span>].grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>, axis<span class="op">=</span><span class="st">'y'</span>)</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel 3: KDE (original productivity)</span></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>productivity.plot.kde(ax<span class="op">=</span>_____, linewidth<span class="op">=</span><span class="dv">2</span>, color<span class="op">=</span><span class="st">'darkblue'</span>)</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>, <span class="dv">0</span>].set_xlabel(<span class="st">'Labor Productivity'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>, <span class="dv">0</span>].set_ylabel(<span class="st">'Density'</span>, fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>, <span class="dv">0</span>].set_title(<span class="st">'Panel 3: Kernel Density Estimate'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>, <span class="dv">0</span>].grid(<span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel 4: KDE comparison (original vs log-transformed)</span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Create log-transformed productivity</span></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>log_productivity <span class="op">=</span> np.log(productivity)</span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Plot both KDE curves on the same axes</span></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Hint: Use .plot.kde() with label='Original' and label='Log-transformed'</span></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Use different colors and linestyles for clarity</span></span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">'Figure: Global Productivity Distribution Visualizations'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>, y<span class="op">=</span><span class="fl">1.00</span>)</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Hints:</strong></p>
<ul>
<li><code>plt.subplots(2, 2)</code> creates 2 rows and 2 columns</li>
<li>Try <code>bins=20</code> for the histogram</li>
<li>Set xlabel to ‚ÄòLabor Productivity‚Äô</li>
<li>For boxplot, pass the productivity series directly</li>
<li>Use <code>axes[1, 0]</code> to reference the bottom-left panel</li>
<li>For KDE comparison, plot two curves with different colors (e.g., ‚Äòdarkblue‚Äô and ‚Äòred‚Äô)</li>
</ul>
</section>
<section id="task-4-comparing-distributions-across-time-more-independent" class="level4">
<h4 class="anchored" data-anchor-id="task-4-comparing-distributions-across-time-more-independent">Task 4: Comparing Distributions Across Time (More Independent)</h4>
<p><strong>Objective:</strong> Analyze how the productivity distribution has changed from 1990 to 2014.</p>
<p><strong>Instructions:</strong></p>
<ol type="1">
<li>Extract productivity data for 1990 and 2014</li>
<li>Calculate summary statistics for each year separately</li>
<li>Create overlapping KDE plots to compare the distributions visually</li>
<li>Analyze: Has the distribution shifted right (convergence/improvement)? Widened (divergence)? Changed shape?</li>
</ol>
<p><strong>Chapter 2 connection:</strong> Applies Section 2.2 (comparing distributions across groups).</p>
<p><strong>Starter code guidance:</strong></p>
<ul>
<li>Use <code>df1.xs(year, level='year')</code> to extract data for specific years</li>
<li>Create summary statistics tables for comparison</li>
<li>Plot two KDE curves on the same axes with different colors</li>
<li>Use the 25th and 75th percentiles to measure spread</li>
<li>Calculate the coefficient of variation (std/mean) to compare relative dispersion</li>
</ul>
<p><strong>Example code structure:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 4: Comparing Distributions Across Time (MORE INDEPENDENT)</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Analyze how global productivity distribution evolved from 1990 to 2014</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Extract data for 1990 and 2014</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>prod_1990 <span class="op">=</span> df1.xs(_____, level<span class="op">=</span><span class="st">'year'</span>)[<span class="st">'lp'</span>]</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>prod_2014 <span class="op">=</span> _____  <span class="co"># Extract 2014 data (same pattern as above)</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Create comparison visualization</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Create figure with 2 subplots (1 row, 2 columns)</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Hint: fig, axes = plt.subplots(1, 2, figsize=(14, 5))</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: Overlapping KDE plots</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Plot KDE for both years on the same axes</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="co"># - Use prod_1990.plot.kde() and prod_2014.plot.kde()</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a><span class="co"># - Different colors for each year (e.g., 'darkblue' and 'red')</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a><span class="co"># - Add labels and legend</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: Side-by-side box plots</span></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Create box plots for both years</span></span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Hint: axes[1].boxplot([prod_1990, prod_2014], labels=['1990', '2014'])</span></span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Set different colors for each box using patch_artist=True</span></span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Calculate comparison statistics</span></span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Create a DataFrame comparing statistics for both years</span></span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Include: mean, median, std, coefficient of variation, skewness, min, max, range</span></span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Hint: Use pd.DataFrame() with a dictionary of statistics</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Hints:</strong></p>
<ul>
<li>Coefficient of variation = std / mean (relative dispersion)</li>
<li>Use <code>stats.skew()</code> from scipy.stats for skewness</li>
<li>For KDE plots, use <code>label='1990'</code> and <code>label='2014'</code> for legend</li>
<li>Range = max - min</li>
</ul>
<p><strong>Questions to consider:</strong></p>
<ul>
<li>Did mean productivity increase from 1990 to 2014?</li>
<li>Did the spread (std dev) increase or decrease? (Convergence vs divergence)</li>
<li>Did the coefficient of variation change?</li>
<li>Did skewness change?</li>
</ul>
</section>
<section id="task-5-transformation-analysis-independent" class="level4">
<h4 class="anchored" data-anchor-id="task-5-transformation-analysis-independent">Task 5: Transformation Analysis (Independent)</h4>
<p><strong>Objective:</strong> Apply log transformation to productivity data and analyze the effect.</p>
<p><strong>Instructions:</strong></p>
<ol type="1">
<li>Create log-transformed productivity variable: log_productivity = ln(productivity)</li>
<li>Compare skewness before and after transformation</li>
<li>Create side-by-side histograms (original vs log-transformed)</li>
<li>Calculate z-scores for both variables to standardize them</li>
<li>Interpret: Why does log transformation help? When would you use it?</li>
</ol>
<p><strong>Chapter 2 connection:</strong> Applies Section 2.5 (Data Transformation).</p>
<p><strong>Starter code guidance:</strong></p>
<ul>
<li>Use <code>np.log()</code> to create log transformation</li>
<li>Compare skewness values before/after using <code>stats.skew()</code></li>
<li>Create z-scores with: <code>(x - x.mean()) / x.std()</code></li>
<li>Visualize both original and log distributions in histograms</li>
<li>Discuss why log-normal distributions are common in economics</li>
</ul>
<p><strong>Example code structure:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 5: Transformation Analysis (INDEPENDENT)</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply log transformation to understand how it affects the distribution</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Create log transformation</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: log_productivity = np.log(_____)</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Create z-scores (standardized values)</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Calculate z-scores for both distributions</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Formula: z = (x - mean) / std</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="co"># z_productivity = (productivity - productivity.mean()) / productivity.std()</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="co"># z_log_productivity = ?</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Create side-by-side histograms</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Use plt.subplots(1, 2) for 2 panels</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel A: Original productivity histogram (20 bins, blue color)</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel B: Log-transformed histogram (20 bins, coral/red color)</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4: Compare skewness</span></span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Calculate skewness using stats.skew()</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate percentage reduction: (1 - |skew_log| / |skew_original|) * 100</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Print comparison table showing: mean, median, std, skewness, kurtosis, min, max</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Hints:</strong></p>
<ul>
<li><code>np.log()</code> computes natural logarithm</li>
<li>Z-scores standardize data to mean=0, std=1</li>
<li>Use <code>stats.skew()</code> and <code>stats.kurtosis()</code> for shape measures</li>
<li>Compare absolute skewness values to quantify reduction</li>
</ul>
<p><strong>Questions to consider:</strong></p>
<ul>
<li>Is the log-transformed distribution more symmetric?</li>
<li>When would you use log transformation in economic analysis?</li>
<li>What happened to skewness and kurtosis after transformation?</li>
</ul>
<blockquote class="blockquote">
<p><strong>Key Concept 2.9: Distributional Convergence</strong></p>
<p>Distributional convergence (œÉ-convergence) asks whether the spread (variance) of productivity across countries is narrowing over time. This differs from Œ≤-convergence (poor countries growing faster than rich ones). If cross-country distributions are becoming more compressed (lower variance), it suggests countries are converging toward similar productivity levels‚Äîimportant for understanding whether global inequality is increasing or decreasing.</p>
</blockquote>
</section>
<section id="task-6-regional-patterns-independent" class="level4">
<h4 class="anchored" data-anchor-id="task-6-regional-patterns-independent">Task 6: Regional Patterns (Independent)</h4>
<p><strong>Objective:</strong> Compare productivity distributions across geographic regions.</p>
<p><strong>Instructions:</strong></p>
<ol type="1">
<li>Add a region column to your dataframe (you‚Äôll need to manually assign regions based on country names)</li>
<li>Group countries by region (at minimum: Africa, Asia, Europe, Americas)</li>
<li>Create box plots for each region side-by-side</li>
<li>Calculate summary statistics by region</li>
<li>Identify: Which regions have highest/lowest productivity? Most inequality?</li>
</ol>
<p><strong>Chapter 2 connection:</strong> Applies Sections 2.3-2.4 (Charts for categorical breakdowns).</p>
<p><strong>Starter code guidance:</strong></p>
<ul>
<li>Create a dictionary mapping countries to regions</li>
<li>Use <code>.groupby()</code> to calculate statistics by region</li>
<li>Create side-by-side box plots for visual comparison</li>
<li>Calculate mean and standard deviation by region</li>
<li>Compare median productivity across regions</li>
</ul>
<p><strong>Example code structure:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 6: Regional Patterns (INDEPENDENT)</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare productivity distributions across geographic regions</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Create region mapping dictionary</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Define region_mapping</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Map each country to its region (Africa, Americas, Asia, Europe, Middle East, Asia-Pacific)</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Example structure:</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="co"># region_mapping = {</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     'Australia': 'Asia-Pacific',</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="co">#     'Austria': 'Europe',</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="co">#     'Brazil': 'Americas',</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     # ... continue for all ~50 countries</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Add region column to dataframe</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Create a copy of df1 and add region column</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Hint: df_with_region['region'] = df_with_region.index.get_level_values('country').map(region_mapping)</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with missing regions: .dropna(subset=['region'])</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Calculate regional statistics</span></span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Group by region and aggregate statistics</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Hint: df_with_region.groupby('region')['lp'].agg(['count', 'mean', 'median', 'std', 'min', 'max'])</span></span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by mean productivity (descending)</span></span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4: Create box plots by region</span></span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Create boxplot visualization comparing regions</span></span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a><span class="co"># - Extract data for each region: [df[df['region'] == r]['lp'].values for r in regions]</span></span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a><span class="co"># - Sort regions by mean productivity for better readability</span></span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a><span class="co"># - Use plt.boxplot() with labels for each region</span></span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a><span class="co"># - Rotate x-axis labels for readability</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Hints:</strong></p>
<ul>
<li>There are ~50 countries in the dataset - you‚Äôll need to map each one</li>
<li>Regions: Africa (Kenya, Nigeria, etc.), Americas (USA, Brazil, etc.), Asia (China, India, etc.)</li>
<li>Europe (France, Germany, etc.), Middle East (Israel, Turkey), Asia-Pacific (Australia, Japan, NZ)</li>
<li>Use <code>.groupby('region')['lp'].agg([...])</code> to calculate statistics by region</li>
<li>Sort regions by mean before plotting for better visualization</li>
</ul>
<p><strong>Questions to consider:</strong></p>
<ul>
<li>Which region has the highest average productivity?</li>
<li>Which region has the most internal inequality (widest box)?</li>
<li>Are there clear regional clusters or is variation continuous?</li>
</ul>
</section>
</section>
<section id="what-youve-learned-from-this-case-study" class="level3">
<h3 class="anchored" data-anchor-id="what-youve-learned-from-this-case-study">What You‚Äôve Learned from This Case Study</h3>
<p>By completing this case study on global labor productivity distribution, you‚Äôve applied the full toolkit of univariate data analysis to a real international economics question. You‚Äôve moved beyond calculating statistics and making charts to asking substantive economic questions: Are countries converging or diverging? How has global inequality in productivity evolved? Which regions drive global disparity?</p>
<p>Specifically, you‚Äôve practiced:</p>
<ul>
<li><strong>Summary statistics</strong> to quantify central tendency and spread</li>
<li><strong>Visualizations</strong> (histograms, box plots, KDE) to see distributional shape</li>
<li><strong>Comparisons</strong> across time periods to detect changes</li>
<li><strong>Transformations</strong> (log) to normalize skewed economic data</li>
<li><strong>Categorical breakdowns</strong> (regions) to identify subgroup patterns</li>
</ul>
<p>These skills extend far beyond productivity. The same analytical approach applies to wealth distribution, income inequality, student test scores, health outcomes, and countless other univariate datasets in economics and social science.</p>
<p>Your next steps (in later chapters) will be to ask <em>relational</em> questions: How does productivity relate to capital? Does inequality depend on development level? Can we <em>predict</em> a country‚Äôs productivity from other variables? Those questions require bivariate analysis (Chapter 5) and regression (Chapter 6+).</p>
</section>
<section id="case-study-2-the-geography-of-development-summarizing-bolivias-municipal-sdg-data" class="level3">
<h3 class="anchored" data-anchor-id="case-study-2-the-geography-of-development-summarizing-bolivias-municipal-sdg-data">Case Study 2: The Geography of Development: Summarizing Bolivia‚Äôs Municipal SDG Data</h3>
<p>In Chapter 1, we introduced the DS4Bolivia project and explored the relationship between nighttime lights and municipal development in Bolivia. In this case study, we apply Chapter 2‚Äôs univariate summary tools to characterize the <em>distribution</em> of development indicators across Bolivia‚Äôs 339 municipalities.</p>
<p><strong>The Data</strong>: The <a href="https://github.com/quarcs-lab/ds4bolivia">DS4Bolivia project</a> provides a comprehensive dataset covering 339 Bolivian municipalities with over 350 variables, including the Municipal Sustainable Development Index (IMDS), individual SDG indices, nighttime lights per capita (2012-2020), population, and socioeconomic indicators. Here we focus on understanding the <em>shape</em> of these distributions‚Äîtheir central tendency, spread, skewness, and multimodality‚Äîusing the univariate tools from this chapter.</p>
<section id="load-the-ds4bolivia-data" class="level4">
<h4 class="anchored" data-anchor-id="load-the-ds4bolivia-data">Load the DS4Bolivia Data</h4>
<p>Let‚Äôs load the DS4Bolivia dataset and select the key variables for univariate analysis.</p>
<div id="cell-76" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:43.509893Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:43.509663Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:43.686072Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:43.685572Z&quot;}}" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the DS4Bolivia dataset</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>url_bol <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/quarcs-lab/ds4bolivia/master/ds4bolivia_v20250523.csv"</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>bol <span class="op">=</span> pd.read_csv(url_bol)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Display basic information</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"DS4BOLIVIA DATASET"</span>)</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Dataset shape: </span><span class="sc">{</span>bol<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> municipalities, </span><span class="sc">{</span>bol<span class="sc">.</span>shape[<span class="dv">1</span>]<span class="sc">}</span><span class="ss"> variables"</span>)</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Departments: </span><span class="sc">{</span>bol[<span class="st">'dep'</span>]<span class="sc">.</span>nunique()<span class="sc">}</span><span class="ss"> unique departments"</span>)</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Department names: </span><span class="sc">{</span><span class="bu">sorted</span>(bol[<span class="st">'dep'</span>].unique())<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Select key variables for this case study</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>key_vars <span class="op">=</span> [<span class="st">'mun'</span>, <span class="st">'dep'</span>, <span class="st">'imds'</span>, <span class="st">'ln_NTLpc2017'</span>, <span class="st">'pop2017'</span>,</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">'index_sdg1'</span>, <span class="st">'sdg1_1_ubn'</span>,</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">'ln_NTLpc2012'</span>, <span class="st">'ln_NTLpc2013'</span>, <span class="st">'ln_NTLpc2014'</span>,</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">'ln_NTLpc2015'</span>, <span class="st">'ln_NTLpc2016'</span>, <span class="st">'ln_NTLpc2017'</span>,</span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>            <span class="st">'ln_NTLpc2018'</span>, <span class="st">'ln_NTLpc2019'</span>, <span class="st">'ln_NTLpc2020'</span>]</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove duplicates while preserving order</span></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>key_vars <span class="op">=</span> <span class="bu">list</span>(<span class="bu">dict</span>.fromkeys(key_vars))</span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>bol_key <span class="op">=</span> bol[key_vars].copy()</span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Key variables selected: </span><span class="sc">{</span><span class="bu">len</span>(key_vars)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"FIRST 10 MUNICIPALITIES"</span>)</span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bol_key.head(<span class="dv">10</span>).to_string())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>======================================================================
DS4BOLIVIA DATASET
======================================================================
Dataset shape: 339 municipalities, 351 variables

Departments: 9 unique departments
Department names: ['Beni', 'Chuquisaca', 'Cochabamba', 'La Paz', 'Oruro', 'Pando', 'Potos√≠', 'Santa Cruz', 'Tarija']

Key variables selected: 15

======================================================================
FIRST 10 MUNICIPALITIES
======================================================================
               mun         dep       imds  ln_NTLpc2017      pop2017  index_sdg1  sdg1_1_ubn  ln_NTLpc2012  ln_NTLpc2013  ln_NTLpc2014  ln_NTLpc2015  ln_NTLpc2016  ln_NTLpc2018  ln_NTLpc2019  ln_NTLpc2020
0        Esmeralda       Oruro  53.200001     13.647187   4065.64790   34.759998   78.300003     11.729473     12.111817     10.962022     11.699198     13.085610     13.667681     13.595437     13.489282
1        Quillacas       Oruro  50.500000     13.821883   4517.64500   27.950001   73.599998     12.965525     13.142761     13.074501     13.143079     12.948340     13.822321     13.803769     14.016370
2   Pampa Aullagas       Oruro  47.299999     13.406137   2951.34470   18.910000   85.199997     12.763059     12.927601     12.876277     12.199938     12.289141     13.358246     12.982080     13.722827
3        Llallagua      Potos√≠  58.099998     14.827301  43508.59400   60.480000   37.500000     14.275025     14.395530     14.490864     14.518698     14.763354     14.902343     14.960201     14.870754
4         Caripuyo      Potos√≠  43.500000     12.510039   9163.95310   18.889999   88.800003     11.708997     12.142770     11.809417     11.976866     11.590055     12.694351     12.807661     13.150372
5          Aiquile  Cochabamba  50.400002     14.606511  22833.01600   41.880001   69.099998     14.106005     14.155921     14.098324     14.249661     14.412630     14.694560     14.667776     14.758524
6  Villa de Sacaca      Potos√≠  42.200001     12.586779  20121.35500   19.320000   88.900002     11.849950     12.121868     12.064876     12.086696     12.208024     12.856441     12.830930     12.948944
7           Acasio      Potos√≠  42.099998     12.358384   6426.26170   20.730000   82.699997     11.160867     11.181058     11.304965     11.214730     10.936804     12.405064     12.700905     12.953930
8          Huanuni       Oruro  56.799999     14.774255  27025.19900   65.089996   24.000000     14.401511     14.563268     14.571879     14.534027     14.616848     14.824553     14.874644     14.895752
9      Huachacalla       Oruro  61.299999     15.581995    675.42578   69.680000   22.299999     14.866138     14.909245     14.816506     14.798038     15.247589     15.627427     15.579352     15.647954</code></pre>
</div>
</div>
</section>
<section id="task-1-summary-statistics-guided" class="level4">
<h4 class="anchored" data-anchor-id="task-1-summary-statistics-guided">Task 1: Summary Statistics (Guided)</h4>
<p><strong>Objective</strong>: Compute and interpret descriptive statistics for key development indicators.</p>
<p><strong>Instructions</strong>:</p>
<ol type="1">
<li>Use <code>.describe()</code> to generate summary statistics for <code>imds</code>, <code>index_sdg1</code>, <code>sdg1_1_ubn</code>, and <code>ln_NTLpc2017</code></li>
<li>Calculate the mean, median, standard deviation, skewness, and kurtosis for each variable</li>
<li>Discuss what these statistics reveal about the distribution of municipal development in Bolivia</li>
</ol>
<p><strong>Apply what you learned in section 2.1</strong>: Use <code>describe()</code>, <code>.mean()</code>, <code>.median()</code>, <code>.std()</code>, <code>.skew()</code>, and <code>.kurtosis()</code> to characterize these distributions.</p>
<div id="cell-78" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:43.689778Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:43.689269Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:43.706083Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:43.705545Z&quot;}}" data-execution_count="19">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 1: Summary Statistics</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Basic descriptive statistics</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>analysis_vars <span class="op">=</span> [<span class="st">'imds'</span>, <span class="st">'index_sdg1'</span>, <span class="st">'sdg1_1_ubn'</span>, <span class="st">'ln_NTLpc2017'</span>]</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"DESCRIPTIVE STATISTICS: KEY DEVELOPMENT INDICATORS"</span>)</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bol_key[analysis_vars].describe().<span class="bu">round</span>(<span class="dv">2</span>))</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Additional distributional measures</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"DISTRIBUTIONAL SHAPE MEASURES"</span>)</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> var <span class="kw">in</span> analysis_vars:</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>    series <span class="op">=</span> bol_key[var].dropna()</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span>var<span class="sc">}</span><span class="ss">:"</span>)</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"  Mean:     </span><span class="sc">{</span>series<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"  Median:   </span><span class="sc">{</span>series<span class="sc">.</span>median()<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"  Std Dev:  </span><span class="sc">{</span>series<span class="sc">.</span>std()<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"  Skewness: </span><span class="sc">{</span>series<span class="sc">.</span>skew()<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"  Kurtosis: </span><span class="sc">{</span>series<span class="sc">.</span>kurtosis()<span class="sc">:.3f}</span><span class="ss">"</span>)</span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Discussion: What do these reveal?</span></span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"INTERPRETATION"</span>)</span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Compare mean vs median for each variable:"</span>)</span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"If mean &gt; median ‚Üí right-skewed (long upper tail)"</span>)</span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"If mean &lt; median ‚Üí left-skewed (long lower tail)"</span>)</span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"High kurtosis (&gt;3) indicates heavy tails (extreme municipalities)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>======================================================================
DESCRIPTIVE STATISTICS: KEY DEVELOPMENT INDICATORS
======================================================================
         imds  index_sdg1  sdg1_1_ubn  ln_NTLpc2017
count  339.00      339.00      339.00        333.00
mean    51.05       37.46       70.36         13.88
std      6.77       20.95       18.95          1.18
min     35.70        0.06       14.30          9.06
25%     47.00       21.64       59.65         13.13
50%     50.50       34.76       73.60         13.91
75%     54.85       51.88       85.85         14.77
max     80.20       90.46       97.90         17.06

======================================================================
DISTRIBUTIONAL SHAPE MEASURES
======================================================================

imds:
  Mean:     51.05
  Median:   50.50
  Std Dev:  6.77
  Skewness: 0.590
  Kurtosis: 1.179

index_sdg1:
  Mean:     37.46
  Median:   34.76
  Std Dev:  20.95
  Skewness: 0.417
  Kurtosis: -0.642

sdg1_1_ubn:
  Mean:     70.36
  Median:   73.60
  Std Dev:  18.95
  Skewness: -0.813
  Kurtosis: -0.030

ln_NTLpc2017:
  Mean:     13.88
  Median:   13.91
  Std Dev:  1.18
  Skewness: -0.511
  Kurtosis: 0.571

======================================================================
INTERPRETATION
======================================================================
Compare mean vs median for each variable:
If mean &gt; median ‚Üí right-skewed (long upper tail)
If mean &lt; median ‚Üí left-skewed (long lower tail)
High kurtosis (&gt;3) indicates heavy tails (extreme municipalities)</code></pre>
</div>
</div>
</section>
<section id="task-2-histograms-and-density-plots-guided" class="level4">
<h4 class="anchored" data-anchor-id="task-2-histograms-and-density-plots-guided">Task 2: Histograms and Density Plots (Guided)</h4>
<p><strong>Objective</strong>: Visualize the distributions of <code>imds</code> and <code>ln_NTLpc2017</code> using histograms and kernel density estimation (KDE) plots.</p>
<p><strong>Instructions</strong>:</p>
<ol type="1">
<li>Create histograms for <code>imds</code> and <code>ln_NTLpc2017</code> (side by side)</li>
<li>Overlay KDE curves on the histograms</li>
<li>Discuss the shape: Is each distribution unimodal or bimodal? Symmetric or skewed?</li>
<li>What might explain any multimodality? (Think about the urban-rural divide)</li>
</ol>
<p><strong>Apply what you learned in section 2.2</strong>: Use <code>plt.hist()</code> with <code>density=True</code> and overlay <code>.plot.kde()</code> or <code>sns.kdeplot()</code>.</p>
<div id="cell-80" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:43.708790Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:43.708567Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:44.319825Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:44.319397Z&quot;}}" data-execution_count="20">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 2: Histograms and Density Plots</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">5</span>))</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co"># IMDS histogram with KDE</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].hist(bol_key[<span class="st">'imds'</span>].dropna(), bins<span class="op">=</span><span class="dv">25</span>, density<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>             color<span class="op">=</span><span class="st">'steelblue'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, edgecolor<span class="op">=</span><span class="st">'white'</span>)</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>bol_key[<span class="st">'imds'</span>].dropna().plot.kde(ax<span class="op">=</span>axes[<span class="dv">0</span>], color<span class="op">=</span><span class="st">'darkblue'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_xlabel(<span class="st">'Municipal Development Index (IMDS)'</span>)</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_ylabel(<span class="st">'Density'</span>)</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_title(<span class="st">'Distribution of IMDS across 339 Municipalities'</span>)</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].axvline(bol_key[<span class="st">'imds'</span>].mean(), color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>,</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>                label<span class="op">=</span><span class="ss">f"Mean = </span><span class="sc">{</span>bol_key[<span class="st">'imds'</span>]<span class="sc">.</span>mean()<span class="sc">:.1f}</span><span class="ss">"</span>)</span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].axvline(bol_key[<span class="st">'imds'</span>].median(), color<span class="op">=</span><span class="st">'orange'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>,</span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>                label<span class="op">=</span><span class="ss">f"Median = </span><span class="sc">{</span>bol_key[<span class="st">'imds'</span>]<span class="sc">.</span>median()<span class="sc">:.1f}</span><span class="ss">"</span>)</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].legend()</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Log NTL histogram with KDE</span></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].hist(bol_key[<span class="st">'ln_NTLpc2017'</span>].dropna(), bins<span class="op">=</span><span class="dv">25</span>, density<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>             color<span class="op">=</span><span class="st">'purple'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, edgecolor<span class="op">=</span><span class="st">'white'</span>)</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a>bol_key[<span class="st">'ln_NTLpc2017'</span>].dropna().plot.kde(ax<span class="op">=</span>axes[<span class="dv">1</span>], color<span class="op">=</span><span class="st">'darkviolet'</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_xlabel(<span class="st">'Log Nighttime Lights per Capita (2017)'</span>)</span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_ylabel(<span class="st">'Density'</span>)</span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_title(<span class="st">'Distribution of Log NTL per Capita'</span>)</span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].axvline(bol_key[<span class="st">'ln_NTLpc2017'</span>].mean(), color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>,</span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a>                label<span class="op">=</span><span class="ss">f"Mean = </span><span class="sc">{</span>bol_key[<span class="st">'ln_NTLpc2017'</span>]<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].axvline(bol_key[<span class="st">'ln_NTLpc2017'</span>].median(), color<span class="op">=</span><span class="st">'orange'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>,</span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a>                label<span class="op">=</span><span class="ss">f"Median = </span><span class="sc">{</span>bol_key[<span class="st">'ln_NTLpc2017'</span>]<span class="sc">.</span>median()<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].legend()</span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Discussion prompts</span></span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"DISCUSSION:"</span>)</span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"1. Is the IMDS distribution unimodal or multimodal?"</span>)</span>
<span id="cb46-38"><a href="#cb46-38" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"2. Is the NTL distribution symmetric or skewed?"</span>)</span>
<span id="cb46-39"><a href="#cb46-39" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"3. What might explain any bimodality? (urban vs rural)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-21-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>DISCUSSION:
1. Is the IMDS distribution unimodal or multimodal?
2. Is the NTL distribution symmetric or skewed?
3. What might explain any bimodality? (urban vs rural)</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p><strong>Key Concept 2.10: Spatial Data Distributions</strong></p>
<p>Municipal-level data often exhibits <strong>multimodality</strong> reflecting the urban-rural divide. Unlike national statistics that produce single averages, municipality-level distributions can reveal distinct subpopulations‚Äîhighly developed urban centers and less developed rural areas. Identifying these subgroups is essential for targeted policy interventions.</p>
</blockquote>
</section>
<section id="task-3-box-plots-by-department-semi-guided" class="level4">
<h4 class="anchored" data-anchor-id="task-3-box-plots-by-department-semi-guided">Task 3: Box Plots by Department (Semi-guided)</h4>
<p><strong>Objective</strong>: Create box plots of <code>imds</code> grouped by department (<code>dep</code>) to compare development across Bolivia‚Äôs 9 departments.</p>
<p><strong>Instructions</strong>:</p>
<ol type="1">
<li>Create a box plot of <code>imds</code> grouped by <code>dep</code> (9 departments)</li>
<li>Order departments by median IMDS for clarity</li>
<li>Identify which departments have the highest and lowest median development</li>
<li>Which departments show the most spread (variability)?</li>
</ol>
<p><strong>Apply what you learned in section 2.3-2.4</strong>: Use grouped box plots to compare distributions across categories.</p>
<div id="cell-83" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:44.324039Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:44.323800Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:44.746687Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:44.746201Z&quot;}}" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 3: Box Plots by Department</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Create box plots of IMDS by department</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Steps:</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Order departments by median IMDS</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Create horizontal box plot</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Add labels and formatting</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Example structure:</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a><span class="co"># dept_order = bol_key.groupby('dep')['imds'].median().sort_values().index</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a><span class="co"># fig, ax = plt.subplots(figsize=(10, 7))</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a><span class="co"># bol_key.boxplot(column='imds', by='dep', ax=ax, vert=False,</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a><span class="co">#                 positions=range(len(dept_order)))</span></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a><span class="co"># ax.set_xlabel('Municipal Development Index (IMDS)')</span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a><span class="co"># ax.set_ylabel('Department')</span></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a><span class="co"># ax.set_title('Development Distribution by Department')</span></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.suptitle('')  # Remove automatic title</span></span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.show()</span></span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Hint: You can also use seaborn for cleaner grouped box plots:</span></span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a>dept_order <span class="op">=</span> bol_key.groupby(<span class="st">'dep'</span>)[<span class="st">'imds'</span>].median().sort_values().index.tolist()</span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">7</span>))</span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>bol_key, x<span class="op">=</span><span class="st">'imds'</span>, y<span class="op">=</span><span class="st">'dep'</span>, order<span class="op">=</span>dept_order,</span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a>            palette<span class="op">=</span><span class="st">'viridis'</span>, ax<span class="op">=</span>ax)</span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Municipal Development Index (IMDS)'</span>)</span>
<span id="cb48-31"><a href="#cb48-31" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Department'</span>)</span>
<span id="cb48-32"><a href="#cb48-32" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Municipal Development Distribution by Department'</span>)</span>
<span id="cb48-33"><a href="#cb48-33" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb48-34"><a href="#cb48-34" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb48-35"><a href="#cb48-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-36"><a href="#cb48-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics by department</span></span>
<span id="cb48-37"><a href="#cb48-37" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb48-38"><a href="#cb48-38" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"IMDS BY DEPARTMENT: MEDIAN AND IQR"</span>)</span>
<span id="cb48-39"><a href="#cb48-39" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb48-40"><a href="#cb48-40" aria-hidden="true" tabindex="-1"></a>dept_stats <span class="op">=</span> bol_key.groupby(<span class="st">'dep'</span>)[<span class="st">'imds'</span>].describe()[[<span class="st">'50%'</span>, <span class="st">'25%'</span>, <span class="st">'75%'</span>, <span class="st">'std'</span>]].<span class="bu">round</span>(<span class="dv">1</span>)</span>
<span id="cb48-41"><a href="#cb48-41" aria-hidden="true" tabindex="-1"></a>dept_stats.columns <span class="op">=</span> [<span class="st">'Median'</span>, <span class="st">'Q1'</span>, <span class="st">'Q3'</span>, <span class="st">'Std Dev'</span>]</span>
<span id="cb48-42"><a href="#cb48-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(dept_stats.sort_values(<span class="st">'Median'</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/tq/t98kb27n6djgrh085g476yhc0000gn/T/ipykernel_6868/1435479174.py:28: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `y` variable to `hue` and set `legend=False` for the same effect.

  sns.boxplot(data=bol_key, x='imds', y='dep', order=dept_order,</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-22-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>======================================================================
IMDS BY DEPARTMENT: MEDIAN AND IQR
======================================================================
            Median    Q1    Q3  Std Dev
dep                                    
Pando         46.0  41.4  48.4      5.6
Chuquisaca    47.5  44.1  50.8      6.6
Potos√≠        47.5  40.9  51.7      7.6
Oruro         50.0  47.1  53.0      5.0
La Paz        50.5  47.5  53.0      5.4
Beni          51.0  47.0  52.9      4.5
Cochabamba    52.0  46.3  57.2      8.5
Santa Cruz    54.2  51.5  57.7      4.8
Tarija        59.5  57.4  63.5      5.5</code></pre>
</div>
</div>
</section>
<section id="task-4-log-transformations-semi-guided" class="level4">
<h4 class="anchored" data-anchor-id="task-4-log-transformations-semi-guided">Task 4: Log Transformations (Semi-guided)</h4>
<p><strong>Objective</strong>: Compare the distribution of raw population (<code>pop2017</code>) with its log transformation to demonstrate how log transformations improve symmetry for skewed data.</p>
<p><strong>Instructions</strong>:</p>
<ol type="1">
<li>Plot the histogram of raw <code>pop2017</code> ‚Äî observe the extreme right skew</li>
<li>Apply <code>np.log(pop2017)</code> and plot its histogram</li>
<li>Compare summary statistics (skewness, kurtosis) before and after transformation</li>
<li>Discuss why log transformations are standard practice for population and income data</li>
</ol>
<p><strong>Apply what you learned in section 2.5</strong>: Log transformations convert multiplicative relationships into additive ones and reduce skewness.</p>
<div id="cell-85" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:44.749537Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:44.749281Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:45.351834Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:45.351313Z&quot;}}" data-execution_count="22">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 4: Log Transformations</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Compare raw vs log-transformed population</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Steps:</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Plot raw pop2017 histogram</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Plot np.log(pop2017) histogram</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Compare skewness and kurtosis</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>pop <span class="op">=</span> bol_key[<span class="st">'pop2017'</span>].dropna()</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>log_pop <span class="op">=</span> np.log(pop)</span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">5</span>))</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Raw population</span></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].hist(pop, bins<span class="op">=</span><span class="dv">30</span>, color<span class="op">=</span><span class="st">'coral'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, edgecolor<span class="op">=</span><span class="st">'white'</span>)</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_xlabel(<span class="st">'Population (2017)'</span>)</span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].set_title(<span class="st">'Raw Population Distribution'</span>)</span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].axvline(pop.mean(), color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>,</span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>                label<span class="op">=</span><span class="ss">f"Mean = </span><span class="sc">{</span>pop<span class="sc">.</span>mean()<span class="sc">:,.0f}</span><span class="ss">"</span>)</span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].axvline(pop.median(), color<span class="op">=</span><span class="st">'blue'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>,</span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>                label<span class="op">=</span><span class="ss">f"Median = </span><span class="sc">{</span>pop<span class="sc">.</span>median()<span class="sc">:,.0f}</span><span class="ss">"</span>)</span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].legend()</span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Log-transformed population</span></span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].hist(log_pop, bins<span class="op">=</span><span class="dv">30</span>, color<span class="op">=</span><span class="st">'teal'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, edgecolor<span class="op">=</span><span class="st">'white'</span>)</span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_xlabel(<span class="st">'Log Population (2017)'</span>)</span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].set_title(<span class="st">'Log-Transformed Population Distribution'</span>)</span>
<span id="cb51-34"><a href="#cb51-34" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].axvline(log_pop.mean(), color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>,</span>
<span id="cb51-35"><a href="#cb51-35" aria-hidden="true" tabindex="-1"></a>                label<span class="op">=</span><span class="ss">f"Mean = </span><span class="sc">{</span>log_pop<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb51-36"><a href="#cb51-36" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].axvline(log_pop.median(), color<span class="op">=</span><span class="st">'blue'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>,</span>
<span id="cb51-37"><a href="#cb51-37" aria-hidden="true" tabindex="-1"></a>                label<span class="op">=</span><span class="ss">f"Median = </span><span class="sc">{</span>log_pop<span class="sc">.</span>median()<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb51-38"><a href="#cb51-38" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].legend()</span>
<span id="cb51-39"><a href="#cb51-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-40"><a href="#cb51-40" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb51-41"><a href="#cb51-41" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb51-42"><a href="#cb51-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-43"><a href="#cb51-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare distributional measures</span></span>
<span id="cb51-44"><a href="#cb51-44" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb51-45"><a href="#cb51-45" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"EFFECT OF LOG TRANSFORMATION ON POPULATION"</span>)</span>
<span id="cb51-46"><a href="#cb51-46" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">70</span>)</span>
<span id="cb51-47"><a href="#cb51-47" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span><span class="st">'Measure'</span><span class="sc">:&lt;15}</span><span class="ss"> </span><span class="sc">{</span><span class="st">'Raw pop2017'</span><span class="sc">:&gt;15}</span><span class="ss"> </span><span class="sc">{</span><span class="st">'log(pop2017)'</span><span class="sc">:&gt;15}</span><span class="ss">"</span>)</span>
<span id="cb51-48"><a href="#cb51-48" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"-"</span> <span class="op">*</span> <span class="dv">45</span>)</span>
<span id="cb51-49"><a href="#cb51-49" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span><span class="st">'Skewness'</span><span class="sc">:&lt;15}</span><span class="ss"> </span><span class="sc">{</span>pop<span class="sc">.</span>skew()<span class="sc">:&gt;15.3f}</span><span class="ss"> </span><span class="sc">{</span>log_pop<span class="sc">.</span>skew()<span class="sc">:&gt;15.3f}</span><span class="ss">"</span>)</span>
<span id="cb51-50"><a href="#cb51-50" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span><span class="st">'Kurtosis'</span><span class="sc">:&lt;15}</span><span class="ss"> </span><span class="sc">{</span>pop<span class="sc">.</span>kurtosis()<span class="sc">:&gt;15.3f}</span><span class="ss"> </span><span class="sc">{</span>log_pop<span class="sc">.</span>kurtosis()<span class="sc">:&gt;15.3f}</span><span class="ss">"</span>)</span>
<span id="cb51-51"><a href="#cb51-51" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span><span class="st">'Mean'</span><span class="sc">:&lt;15}</span><span class="ss"> </span><span class="sc">{</span>pop<span class="sc">.</span>mean()<span class="sc">:&gt;15,.0f}</span><span class="ss"> </span><span class="sc">{</span>log_pop<span class="sc">.</span>mean()<span class="sc">:&gt;15.2f}</span><span class="ss">"</span>)</span>
<span id="cb51-52"><a href="#cb51-52" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span><span class="st">'Median'</span><span class="sc">:&lt;15}</span><span class="ss"> </span><span class="sc">{</span>pop<span class="sc">.</span>median()<span class="sc">:&gt;15,.0f}</span><span class="ss"> </span><span class="sc">{</span>log_pop<span class="sc">.</span>median()<span class="sc">:&gt;15.2f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch02_Univariate_Data_Summary_files/figure-html/cell-23-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>======================================================================
EFFECT OF LOG TRANSFORMATION ON POPULATION
======================================================================
Measure             Raw pop2017    log(pop2017)
---------------------------------------------
Skewness                  9.712           0.641
Kurtosis                110.387           2.119
Mean                     32,859            9.43
Median                   11,628            9.36</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p><strong>Key Concept 2.11: Development Indicator Interpretation</strong></p>
<p>SDG composite indices like IMDS (0-100) aggregate multiple dimensions of development into a single score. While convenient for ranking, composite indices can mask important variation in specific dimensions. For example, a municipality may score well on education (SDG 4) but poorly on health (SDG 3). Examining individual SDG variables alongside composite indices provides a more complete picture.</p>
</blockquote>
</section>
<section id="task-5-time-series-of-ntl-independent" class="level4">
<h4 class="anchored" data-anchor-id="task-5-time-series-of-ntl-independent">Task 5: Time Series of NTL (Independent)</h4>
<p><strong>Objective</strong>: Calculate and plot the mean nighttime lights across municipalities for each year from 2012 to 2020 to examine the evolution of satellite-measured economic activity.</p>
<p><strong>Instructions</strong>:</p>
<ol type="1">
<li>Calculate the mean of <code>ln_NTLpc2012</code> through <code>ln_NTLpc2020</code> across all municipalities for each year</li>
<li>Plot the resulting time series (year on x-axis, mean log NTL on y-axis)</li>
<li>Discuss: Is there a trend? Any notable changes? What might explain the pattern?</li>
</ol>
<p><strong>Apply what you learned in section 2.6</strong>: Use time series visualization to identify trends and patterns.</p>
<div id="cell-88" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:45.355798Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:45.355520Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:45.358586Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:45.358019Z&quot;}}" data-execution_count="23">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 5: Time Series of NTL</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Calculate mean NTL across municipalities for each year</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Steps:</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Select NTL columns for 2012-2020</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Calculate means</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Plot time series</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Example structure:</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ntl_cols = [f'ln_NTLpc{yr}' for yr in range(2012, 2021)]</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a><span class="co"># years = list(range(2012, 2021))</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a><span class="co"># mean_ntl = [bol_key[col].mean() for col in ntl_cols]</span></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a><span class="co"># fig, ax = plt.subplots(figsize=(10, 5))</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a><span class="co"># ax.plot(years, mean_ntl, marker='o', color='navy', linewidth=2)</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a><span class="co"># ax.set_xlabel('Year')</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ax.set_ylabel('Mean Log NTL per Capita')</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a><span class="co"># ax.set_title('Evolution of Nighttime Lights across Bolivian Municipalities')</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a><span class="co"># ax.grid(True, alpha=0.3)</span></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.show()</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="task-6-regional-distribution-analysis-independent" class="level4">
<h4 class="anchored" data-anchor-id="task-6-regional-distribution-analysis-independent">Task 6: Regional Distribution Analysis (Independent)</h4>
<p><strong>Objective</strong>: Compare the distributions of <code>imds</code> across departments using overlapping histograms or violin plots. Write a 200-word summary of regional inequality in Bolivia.</p>
<p><strong>Instructions</strong>:</p>
<ol type="1">
<li>Create overlapping histograms or violin plots of <code>imds</code> for at least 3 departments</li>
<li>Compare the distributional shapes: Do some departments have more spread? More bimodality?</li>
<li>Write a 200-word summary discussing what these distributions reveal about regional inequality in Bolivia</li>
<li>Which departments might need the most targeted development interventions? Why?</li>
</ol>
<p><strong>Apply your skills</strong>: This task combines histogram/density visualization with substantive economic interpretation.</p>
<div id="cell-90" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;execution&quot;,&quot;value&quot;:{&quot;iopub.execute_input&quot;:&quot;2026-02-17T12:47:45.361231Z&quot;,&quot;iopub.status.busy&quot;:&quot;2026-02-17T12:47:45.361020Z&quot;,&quot;iopub.status.idle&quot;:&quot;2026-02-17T12:47:45.364170Z&quot;,&quot;shell.execute_reply&quot;:&quot;2026-02-17T12:47:45.363692Z&quot;}}" data-execution_count="24">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task 6: Regional Distribution Analysis</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here: Compare IMDS distributions across departments</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Option A: Overlapping histograms (select 3-4 key departments)</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Option B: Violin plots for all 9 departments</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Option C: Ridge plot (multiple KDE curves stacked vertically)</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Example structure (violin plots):</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a><span class="co"># fig, ax = plt.subplots(figsize=(12, 7))</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a><span class="co"># dept_order = bol_key.groupby('dep')['imds'].median().sort_values().index.tolist()</span></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a><span class="co"># sns.violinplot(data=bol_key, x='imds', y='dep', order=dept_order,</span></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a><span class="co">#                palette='coolwarm', ax=ax, inner='quartile')</span></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a><span class="co"># ax.set_xlabel('Municipal Development Index (IMDS)')</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a><span class="co"># ax.set_ylabel('Department')</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a><span class="co"># ax.set_title('Distribution of Municipal Development by Department')</span></span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.tight_layout()</span></span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.show()</span></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a><span class="co"># After creating your visualization, write a 200-word summary below:</span></span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a><span class="co"># print("REGIONAL INEQUALITY SUMMARY")</span></span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a><span class="co"># print("=" * 70)</span></span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Write your 200-word analysis here...")</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="what-youve-learned-from-this-case-study-1" class="level3">
<h3 class="anchored" data-anchor-id="what-youve-learned-from-this-case-study-1">What You‚Äôve Learned from This Case Study</h3>
<p>By applying Chapter 2‚Äôs univariate analysis tools to Bolivia‚Äôs municipal SDG data, you‚Äôve characterized the <em>distribution</em> of development outcomes across 339 municipalities. Specifically, you‚Äôve practiced:</p>
<ul>
<li><strong>Descriptive statistics</strong> for development indicators‚Äîmean, median, SD, skewness, and kurtosis</li>
<li><strong>Visualization of distributions</strong> using histograms, box plots, and kernel density estimation (KDE)</li>
<li><strong>Log transformations</strong> for highly skewed data like population</li>
<li><strong>Time series summary</strong> of satellite-measured nighttime lights (2012-2020)</li>
<li><strong>Regional comparison</strong> of development distributions across Bolivia‚Äôs 9 departments</li>
</ul>
<p>These univariate tools reveal the <em>shape</em> of Bolivia‚Äôs development distribution‚Äîits central tendency, spread, and the urban-rural divide reflected in multimodal patterns. Understanding these distributional properties is the essential first step before more advanced analysis.</p>
<p><strong>Connection to future chapters</strong>: In Chapter 4, we‚Äôll test whether differences across departments are statistically significant. In Chapter 5, we‚Äôll explore <em>bivariate</em> relationships between satellite data and development. Later chapters will build progressively more sophisticated models for predicting and explaining municipal development outcomes.</p>
<hr>
<p><strong>Well done!</strong> You‚Äôve now explored Bolivia‚Äôs municipal development data using the full univariate analysis toolkit‚Äîfrom summary statistics to distributional visualization and transformation.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../notebooks_colab/ch01_Analysis_of_Economics_Data.html" class="pagination-link" aria-label="1. Analysis of Economics Data">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">1. Analysis of Economics Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../notebooks_colab/ch03_The_Sample_Mean.html" class="pagination-link" aria-label="3. The Sample Mean">
        <span class="nav-page-text"><span class="chapter-title">3. The Sample Mean</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  /* ‚îÄ‚îÄ Book cover image in right sidebar ‚îÄ‚îÄ */
  var tocNav = document.getElementById('TOC');
  if (tocNav) {
    var coverDiv = document.createElement('div');
    coverDiv.id = 'toc-cover-image';
    var img = document.createElement('img');
    var path = window.location.pathname;
    if (path.indexOf('/notebooks_colab/') !== -1) {
      img.src = '../images/book1cover.jpg';
    } else {
      img.src = 'images/book1cover.jpg';
    }
    img.alt = 'Econometrics Powered by AI';
    coverDiv.appendChild(img);
    tocNav.parentNode.insertBefore(coverDiv, tocNav);
  }

  /* ‚îÄ‚îÄ Mobile TOC: floating button + slide-in panel ‚îÄ‚îÄ */
  var toc = document.getElementById('TOC');
  if (!toc) return;
  var tocList = toc.querySelector('ul');
  if (!tocList || tocList.children.length === 0) return;

  /* Create floating action button */
  var btn = document.createElement('button');
  btn.className = 'mobile-toc-btn';
  btn.setAttribute('aria-label', 'On this page');
  btn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><circle cx="3" cy="6" r="1" fill="currentColor"/><circle cx="3" cy="12" r="1" fill="currentColor"/><circle cx="3" cy="18" r="1" fill="currentColor"/></svg>';

  /* Create overlay backdrop */
  var overlay = document.createElement('div');
  overlay.className = 'mobile-toc-overlay';

  /* Create slide-in panel */
  var panel = document.createElement('div');
  panel.className = 'mobile-toc-panel';

  /* Panel header with title and close button */
  var header = document.createElement('div');
  header.className = 'mobile-toc-header';
  var title = document.createElement('h3');
  title.textContent = 'On this page';
  var closeBtn = document.createElement('button');
  closeBtn.className = 'mobile-toc-close';
  closeBtn.setAttribute('aria-label', 'Close');
  closeBtn.innerHTML = '\u00d7';
  header.appendChild(title);
  header.appendChild(closeBtn);

  /* Clone TOC content into panel */
  var content = document.createElement('div');
  content.className = 'mobile-toc-content';
  var tocClone = tocList.cloneNode(true);
  tocClone.classList.remove('collapse');
  tocClone.style.display = 'block';
  content.appendChild(tocClone);

  panel.appendChild(header);
  panel.appendChild(content);
  document.body.appendChild(btn);
  document.body.appendChild(overlay);
  document.body.appendChild(panel);

  /* Toggle functions */
  function openPanel() {
    panel.classList.add('active');
    overlay.classList.add('active');
    document.body.style.overflow = 'hidden';
  }
  function closePanel() {
    panel.classList.remove('active');
    overlay.classList.remove('active');
    document.body.style.overflow = '';
  }

  btn.addEventListener('click', openPanel);
  overlay.addEventListener('click', closePanel);
  closeBtn.addEventListener('click', closePanel);

  /* Close panel when a TOC link is clicked */
  content.querySelectorAll('a').forEach(function(link) {
    link.addEventListener('click', closePanel);
  });

  /* Close on Escape key */
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && panel.classList.contains('active')) {
      closePanel();
    }
  });

  /* ‚îÄ‚îÄ Desktop sidebar toggle buttons (floating chevrons) ‚îÄ‚îÄ */
  if (window.innerWidth >= 992) {
    /* Restore saved states */
    if (localStorage.getItem('left-collapsed') === 'true') {
      document.body.classList.add('left-collapsed');
    }
    if (localStorage.getItem('toc-collapsed') === 'true') {
      document.body.classList.add('toc-collapsed');
    }

    /* Left sidebar toggle */
    var leftBtn = document.createElement('button');
    leftBtn.className = 'sidebar-toggle sidebar-toggle-left';
    leftBtn.setAttribute('aria-label', 'Toggle book navigation');
    leftBtn.title = 'Toggle book navigation';
    leftBtn.innerHTML = '<i class="bi bi-chevron-left"></i>';
    document.body.appendChild(leftBtn);
    leftBtn.addEventListener('click', function() {
      document.body.classList.toggle('left-collapsed');
      localStorage.setItem('left-collapsed', document.body.classList.contains('left-collapsed'));
    });

    /* Right sidebar toggle */
    var rightBtn = document.createElement('button');
    rightBtn.className = 'sidebar-toggle sidebar-toggle-right';
    rightBtn.setAttribute('aria-label', 'Toggle table of contents');
    rightBtn.title = 'Toggle table of contents';
    rightBtn.innerHTML = '<i class="bi bi-chevron-right"></i>';
    document.body.appendChild(rightBtn);
    rightBtn.addEventListener('click', function() {
      document.body.classList.toggle('toc-collapsed');
      localStorage.setItem('toc-collapsed', document.body.classList.contains('toc-collapsed'));
    });
  }
});
</script>




<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>